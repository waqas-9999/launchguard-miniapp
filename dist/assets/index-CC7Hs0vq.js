import{dH as qa,dQ as un,dR as ta,dS as G,dT as Di,dU as bt,dV as Kf,bK as ji,dN as Qf}from"./index-CHbBw2KT.js";const Yf=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:qa,default:qa},Symbol.toStringTag,{value:"Module"}));var Fo=function(e,t){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fo(e,t)};function ql(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fo(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ti=function(){return Ti=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ti.apply(this,arguments)};function Vl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function zl(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Gl(e,t){return function(r,n){t(r,n,e)}}function Jl(e,t,r,n,i,s){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,d=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,_=!1,M=r.length-1;M>=0;M--){var O={};for(var T in n)O[T]=T==="access"?{}:n[T];for(var T in n.access)O.access[T]=n.access[T];O.addInitializer=function(b){if(_)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(b||null))};var P=(0,r[M])(c==="accessor"?{get:d.get,set:d.set}:d[l],O);if(c==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(p=o(P.get))&&(d.get=p),(p=o(P.set))&&(d.set=p),(p=o(P.init))&&i.unshift(p)}else(p=o(P))&&(c==="field"?i.unshift(p):d[l]=p)}h&&Object.defineProperty(h,n.name,d),_=!0}function Zl(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Kl(e){return typeof e=="symbol"?e:"".concat(e)}function Ql(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Yl(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xl(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function l(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((n=n.apply(e,t||[])).next())})}function eu(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(d){return l([h,d])}}function l(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(d){h=[6,d],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ui=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function tu(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ui(t,e,r)}function Pi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ra(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ru(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ra(arguments[t]));return e}function nu(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,c=s.length;o<c;o++,i++)n[i]=s[o];return n}function iu(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Yr(e){return this instanceof Yr?(this.v=e,this):new Yr(e)}function su(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(M){return function(O){return Promise.resolve(O).then(M,p)}}function c(M,O){n[M]&&(i[M]=function(T){return new Promise(function(P,b){s.push([M,T,P,b])>1||l(M,T)})},O&&(i[M]=O(i[M])))}function l(M,O){try{h(n[M](O))}catch(T){_(s[0][3],T)}}function h(M){M.value instanceof Yr?Promise.resolve(M.value.v).then(d,p):_(s[0][2],M)}function d(M){l("next",M)}function p(M){l("throw",M)}function _(M,O){M(O),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ou(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Yr(e[i](o)),done:!1}:s?s(o):o}:s}}function au(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Pi=="function"?Pi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(c,l){o=e[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(h){s({value:h,done:c})},o)}}function cu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Xf=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Do=function(e){return Do=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Do(e)};function lu(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Do(e),n=0;n<r.length;n++)r[n]!=="default"&&Ui(t,e,r[n]);return Xf(t,e),t}function uu(e){return e&&e.__esModule?e:{default:e}}function hu(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function fu(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function du(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pu(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var ed=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function gu(e){function t(s){e.error=e.hasError?new ed(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function _u(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?t?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):e}const td={__extends:ql,__assign:Ti,__rest:Vl,__decorate:zl,__param:Gl,__esDecorate:Jl,__runInitializers:Zl,__propKey:Kl,__setFunctionName:Ql,__metadata:Yl,__awaiter:Xl,__generator:eu,__createBinding:Ui,__exportStar:tu,__values:Pi,__read:ra,__spread:ru,__spreadArrays:nu,__spreadArray:iu,__await:Yr,__asyncGenerator:su,__asyncDelegator:ou,__asyncValues:au,__makeTemplateObject:cu,__importStar:lu,__importDefault:uu,__classPrivateFieldGet:hu,__classPrivateFieldSet:fu,__classPrivateFieldIn:du,__addDisposableResource:pu,__disposeResources:gu,__rewriteRelativeImportExtension:_u},rd=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pu,get __assign(){return Ti},__asyncDelegator:ou,__asyncGenerator:su,__asyncValues:au,__await:Yr,__awaiter:Xl,__classPrivateFieldGet:hu,__classPrivateFieldIn:du,__classPrivateFieldSet:fu,__createBinding:Ui,__decorate:zl,__disposeResources:gu,__esDecorate:Jl,__exportStar:tu,__extends:ql,__generator:eu,__importDefault:uu,__importStar:lu,__makeTemplateObject:cu,__metadata:Yl,__param:Gl,__propKey:Kl,__read:ra,__rest:Vl,__rewriteRelativeImportExtension:_u,__runInitializers:Zl,__setFunctionName:Ql,__spread:ru,__spreadArray:iu,__spreadArrays:nu,__values:Pi,default:td},Symbol.toStringTag,{value:"Module"})),na=un(rd);var yu={},Cn={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.walletLogo=void 0;const nd=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Hi.walletLogo=nd;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.LINK_API_URL=void 0;Wi.LINK_API_URL="https://www.walletlink.org";var z={},ia={exports:{}};ia.exports;(function(e){(function(t,r){function n(C,a){if(!C)throw new Error(a||"Assertion failed")}function i(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function s(C,a,f){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ta.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,f){return a.cmp(f)>0?a:f},s.min=function(a,f){return a.cmp(f)<0?a:f},s.prototype._init=function(a,f,g){if(typeof a=="number")return this._initNumber(a,f,g);if(typeof a=="object")return this._initArray(a,f,g);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,g):(this._parseBase(a,f,y),g==="le"&&this._initArray(this.toArray(),f,g)))},s.prototype._initNumber=function(a,f,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),f,g)},s.prototype._initArray=function(a,f,g){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var v,R,x=0;if(g==="be")for(y=a.length-1,v=0;y>=0;y-=3)R=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[v]|=R<<x&67108863,this.words[v+1]=R>>>26-x&67108863,x+=24,x>=26&&(x-=26,v++);else if(g==="le")for(y=0,v=0;y<a.length;y+=3)R=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[v]|=R<<x&67108863,this.words[v+1]=R>>>26-x&67108863,x+=24,x>=26&&(x-=26,v++);return this._strip()};function c(C,a){var f=C.charCodeAt(a);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;n(!1,"Invalid character in "+C)}function l(C,a,f){var g=c(C,f);return f-1>=a&&(g|=c(C,f-1)<<4),g}s.prototype._parseHex=function(a,f,g){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var v=0,R=0,x;if(g==="be")for(y=a.length-1;y>=f;y-=2)x=l(a,f,y)<<v,this.words[R]|=x&67108863,v>=18?(v-=18,R+=1,this.words[R]|=x>>>26):v+=8;else{var m=a.length-f;for(y=m%2===0?f+1:f;y<a.length;y+=2)x=l(a,f,y)<<v,this.words[R]|=x&67108863,v>=18?(v-=18,R+=1,this.words[R]|=x>>>26):v+=8}this._strip()};function h(C,a,f,g){for(var y=0,v=0,R=Math.min(C.length,f),x=a;x<R;x++){var m=C.charCodeAt(x)-48;y*=g,m>=49?v=m-49+10:m>=17?v=m-17+10:v=m,n(m>=0&&v<g,"Invalid character"),y+=v}return y}s.prototype._parseBase=function(a,f,g){this.words=[0],this.length=1;for(var y=0,v=1;v<=67108863;v*=f)y++;y--,v=v/f|0;for(var R=a.length-g,x=R%y,m=Math.min(R,R-x)+g,u=0,w=g;w<m;w+=y)u=h(a,w,w+y,f),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(x!==0){var q=1;for(u=h(a,w,a.length,f),w=0;w<x;w++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(C,a){C.words=a.words,C.length=a.length,C.negative=a.negative,C.red=a.red}if(s.prototype._move=function(a){d(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,f){a=a||10,f=f|0||1;var g;if(a===16||a==="hex"){g="";for(var y=0,v=0,R=0;R<this.length;R++){var x=this.words[R],m=((x<<y|v)&16777215).toString(16);v=x>>>24-y&16777215,y+=2,y>=26&&(y-=26,R--),v!==0||R!==this.length-1?g=_[6-m.length]+m+g:g=m+g}for(v!==0&&(g=v.toString(16)+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var u=M[a],w=O[a];g="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modrn(w).toString(a);q=q.idivn(w),q.isZero()?g=U+g:g=_[u-U.length]+U+g}for(this.isZero()&&(g="0"+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,f){return this.toArrayLike(o,a,f)}),s.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)};var T=function(a,f){return a.allocUnsafe?a.allocUnsafe(f):new a(f)};s.prototype.toArrayLike=function(a,f,g){this._strip();var y=this.byteLength(),v=g||Math.max(1,y);n(y<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var R=T(a,v),x=f==="le"?"LE":"BE";return this["_toArrayLike"+x](R,y),R},s.prototype._toArrayLikeLE=function(a,f){for(var g=0,y=0,v=0,R=0;v<this.length;v++){var x=this.words[v]<<R|y;a[g++]=x&255,g<a.length&&(a[g++]=x>>8&255),g<a.length&&(a[g++]=x>>16&255),R===6?(g<a.length&&(a[g++]=x>>24&255),y=0,R=0):(y=x>>>24,R+=2)}if(g<a.length)for(a[g++]=y;g<a.length;)a[g++]=0},s.prototype._toArrayLikeBE=function(a,f){for(var g=a.length-1,y=0,v=0,R=0;v<this.length;v++){var x=this.words[v]<<R|y;a[g--]=x&255,g>=0&&(a[g--]=x>>8&255),g>=0&&(a[g--]=x>>16&255),R===6?(g>=0&&(a[g--]=x>>24&255),y=0,R=0):(y=x>>>24,R+=2)}if(g>=0)for(a[g--]=y;g>=0;)a[g--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var f=a,g=0;return f>=4096&&(g+=13,f>>>=13),f>=64&&(g+=7,f>>>=7),f>=8&&(g+=4,f>>>=4),f>=2&&(g+=2,f>>>=2),g+f},s.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,g=0;return f&8191||(g+=13,f>>>=13),f&127||(g+=7,f>>>=7),f&15||(g+=4,f>>>=4),f&3||(g+=2,f>>>=2),f&1||g++,g},s.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function P(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f/26|0,y=f%26;a[f]=C.words[g]>>>y&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var g=this._zeroBits(this.words[f]);if(a+=g,g!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var g=0;g<f.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=f.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var f,g;this.length>a.length?(f=this,g=a):(f=a,g=this);for(var y=0;y<g.length;y++)this.words[y]=f.words[y]^g.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,g=a%26;this._expand(f),g>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return g>0&&(this.words[y]=~this.words[y]&67108863>>26-g),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var g=a/26|0,y=a%26;return this._expand(g+1),f?this.words[g]=this.words[g]|1<<y:this.words[g]=this.words[g]&~(1<<y),this._strip()},s.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var g,y;this.length>a.length?(g=this,y=a):(g=a,y=this);for(var v=0,R=0;R<y.length;R++)f=(g.words[R]|0)+(y.words[R]|0)+v,this.words[R]=f&67108863,v=f>>>26;for(;v!==0&&R<g.length;R++)f=(g.words[R]|0)+v,this.words[R]=f&67108863,v=f>>>26;if(this.length=g.length,v!==0)this.words[this.length]=v,this.length++;else if(g!==this)for(;R<g.length;R++)this.words[R]=g.words[R];return this},s.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,v;g>0?(y=this,v=a):(y=a,v=this);for(var R=0,x=0;x<v.length;x++)f=(y.words[x]|0)-(v.words[x]|0)+R,R=f>>26,this.words[x]=f&67108863;for(;R!==0&&x<y.length;x++)f=(y.words[x]|0)+R,R=f>>26,this.words[x]=f&67108863;if(R===0&&x<y.length&&y!==this)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=Math.max(this.length,x),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function b(C,a,f){f.negative=a.negative^C.negative;var g=C.length+a.length|0;f.length=g,g=g-1|0;var y=C.words[0]|0,v=a.words[0]|0,R=y*v,x=R&67108863,m=R/67108864|0;f.words[0]=x;for(var u=1;u<g;u++){for(var w=m>>>26,q=m&67108863,U=Math.min(u,a.length-1),I=Math.max(0,u-C.length+1);I<=U;I++){var N=u-I|0;y=C.words[N]|0,v=a.words[I]|0,R=y*v+q,w+=R/67108864|0,q=R&67108863}f.words[u]=q|0,m=w|0}return m!==0?f.words[u]=m|0:f.length--,f._strip()}var k=function(a,f,g){var y=a.words,v=f.words,R=g.words,x=0,m,u,w,q=y[0]|0,U=q&8191,I=q>>>13,N=y[1]|0,$=N&8191,H=N>>>13,re=y[2]|0,E=re&8191,S=re>>>13,D=y[3]|0,j=D&8191,Q=D>>>13,ee=y[4]|0,K=ee&8191,le=ee>>>13,Et=y[5]|0,ge=Et&8191,ye=Et>>>13,Ut=y[6]|0,fe=Ut&8191,de=Ut>>>13,Ot=y[7]|0,he=Ot&8191,ue=Ot>>>13,at=y[8]|0,me=at&8191,ve=at>>>13,Cr=y[9]|0,be=Cr&8191,we=Cr>>>13,kr=v[0]|0,Ee=kr&8191,Se=kr>>>13,Ar=v[1]|0,Re=Ar&8191,Me=Ar>>>13,Ir=v[2]|0,Ce=Ir&8191,ke=Ir>>>13,xr=v[3]|0,Ae=xr&8191,Ie=xr>>>13,Tr=v[4]|0,xe=Tr&8191,Te=Tr>>>13,Pr=v[5]|0,Pe=Pr&8191,Ne=Pr>>>13,Nr=v[6]|0,Oe=Nr&8191,Le=Nr>>>13,Or=v[7]|0,Be=Or&8191,$e=Or>>>13,Lr=v[8]|0,Fe=Lr&8191,De=Lr>>>13,Br=v[9]|0,je=Br&8191,Ue=Br>>>13;g.negative=a.negative^f.negative,g.length=19,m=Math.imul(U,Ee),u=Math.imul(U,Se),u=u+Math.imul(I,Ee)|0,w=Math.imul(I,Se);var Jt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,m=Math.imul($,Ee),u=Math.imul($,Se),u=u+Math.imul(H,Ee)|0,w=Math.imul(H,Se),m=m+Math.imul(U,Re)|0,u=u+Math.imul(U,Me)|0,u=u+Math.imul(I,Re)|0,w=w+Math.imul(I,Me)|0;var Zt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,m=Math.imul(E,Ee),u=Math.imul(E,Se),u=u+Math.imul(S,Ee)|0,w=Math.imul(S,Se),m=m+Math.imul($,Re)|0,u=u+Math.imul($,Me)|0,u=u+Math.imul(H,Re)|0,w=w+Math.imul(H,Me)|0,m=m+Math.imul(U,Ce)|0,u=u+Math.imul(U,ke)|0,u=u+Math.imul(I,Ce)|0,w=w+Math.imul(I,ke)|0;var Kt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,m=Math.imul(j,Ee),u=Math.imul(j,Se),u=u+Math.imul(Q,Ee)|0,w=Math.imul(Q,Se),m=m+Math.imul(E,Re)|0,u=u+Math.imul(E,Me)|0,u=u+Math.imul(S,Re)|0,w=w+Math.imul(S,Me)|0,m=m+Math.imul($,Ce)|0,u=u+Math.imul($,ke)|0,u=u+Math.imul(H,Ce)|0,w=w+Math.imul(H,ke)|0,m=m+Math.imul(U,Ae)|0,u=u+Math.imul(U,Ie)|0,u=u+Math.imul(I,Ae)|0,w=w+Math.imul(I,Ie)|0;var Qt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,m=Math.imul(K,Ee),u=Math.imul(K,Se),u=u+Math.imul(le,Ee)|0,w=Math.imul(le,Se),m=m+Math.imul(j,Re)|0,u=u+Math.imul(j,Me)|0,u=u+Math.imul(Q,Re)|0,w=w+Math.imul(Q,Me)|0,m=m+Math.imul(E,Ce)|0,u=u+Math.imul(E,ke)|0,u=u+Math.imul(S,Ce)|0,w=w+Math.imul(S,ke)|0,m=m+Math.imul($,Ae)|0,u=u+Math.imul($,Ie)|0,u=u+Math.imul(H,Ae)|0,w=w+Math.imul(H,Ie)|0,m=m+Math.imul(U,xe)|0,u=u+Math.imul(U,Te)|0,u=u+Math.imul(I,xe)|0,w=w+Math.imul(I,Te)|0;var Yt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,m=Math.imul(ge,Ee),u=Math.imul(ge,Se),u=u+Math.imul(ye,Ee)|0,w=Math.imul(ye,Se),m=m+Math.imul(K,Re)|0,u=u+Math.imul(K,Me)|0,u=u+Math.imul(le,Re)|0,w=w+Math.imul(le,Me)|0,m=m+Math.imul(j,Ce)|0,u=u+Math.imul(j,ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,ke)|0,m=m+Math.imul(E,Ae)|0,u=u+Math.imul(E,Ie)|0,u=u+Math.imul(S,Ae)|0,w=w+Math.imul(S,Ie)|0,m=m+Math.imul($,xe)|0,u=u+Math.imul($,Te)|0,u=u+Math.imul(H,xe)|0,w=w+Math.imul(H,Te)|0,m=m+Math.imul(U,Pe)|0,u=u+Math.imul(U,Ne)|0,u=u+Math.imul(I,Pe)|0,w=w+Math.imul(I,Ne)|0;var Xt=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,m=Math.imul(fe,Ee),u=Math.imul(fe,Se),u=u+Math.imul(de,Ee)|0,w=Math.imul(de,Se),m=m+Math.imul(ge,Re)|0,u=u+Math.imul(ge,Me)|0,u=u+Math.imul(ye,Re)|0,w=w+Math.imul(ye,Me)|0,m=m+Math.imul(K,Ce)|0,u=u+Math.imul(K,ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,ke)|0,m=m+Math.imul(j,Ae)|0,u=u+Math.imul(j,Ie)|0,u=u+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,Ie)|0,m=m+Math.imul(E,xe)|0,u=u+Math.imul(E,Te)|0,u=u+Math.imul(S,xe)|0,w=w+Math.imul(S,Te)|0,m=m+Math.imul($,Pe)|0,u=u+Math.imul($,Ne)|0,u=u+Math.imul(H,Pe)|0,w=w+Math.imul(H,Ne)|0,m=m+Math.imul(U,Oe)|0,u=u+Math.imul(U,Le)|0,u=u+Math.imul(I,Oe)|0,w=w+Math.imul(I,Le)|0;var er=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(he,Ee),u=Math.imul(he,Se),u=u+Math.imul(ue,Ee)|0,w=Math.imul(ue,Se),m=m+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Me)|0,u=u+Math.imul(de,Re)|0,w=w+Math.imul(de,Me)|0,m=m+Math.imul(ge,Ce)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ce)|0,w=w+Math.imul(ye,ke)|0,m=m+Math.imul(K,Ae)|0,u=u+Math.imul(K,Ie)|0,u=u+Math.imul(le,Ae)|0,w=w+Math.imul(le,Ie)|0,m=m+Math.imul(j,xe)|0,u=u+Math.imul(j,Te)|0,u=u+Math.imul(Q,xe)|0,w=w+Math.imul(Q,Te)|0,m=m+Math.imul(E,Pe)|0,u=u+Math.imul(E,Ne)|0,u=u+Math.imul(S,Pe)|0,w=w+Math.imul(S,Ne)|0,m=m+Math.imul($,Oe)|0,u=u+Math.imul($,Le)|0,u=u+Math.imul(H,Oe)|0,w=w+Math.imul(H,Le)|0,m=m+Math.imul(U,Be)|0,u=u+Math.imul(U,$e)|0,u=u+Math.imul(I,Be)|0,w=w+Math.imul(I,$e)|0;var tr=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(me,Ee),u=Math.imul(me,Se),u=u+Math.imul(ve,Ee)|0,w=Math.imul(ve,Se),m=m+Math.imul(he,Re)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ue,Re)|0,w=w+Math.imul(ue,Me)|0,m=m+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ke)|0,u=u+Math.imul(de,Ce)|0,w=w+Math.imul(de,ke)|0,m=m+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Ie)|0,u=u+Math.imul(ye,Ae)|0,w=w+Math.imul(ye,Ie)|0,m=m+Math.imul(K,xe)|0,u=u+Math.imul(K,Te)|0,u=u+Math.imul(le,xe)|0,w=w+Math.imul(le,Te)|0,m=m+Math.imul(j,Pe)|0,u=u+Math.imul(j,Ne)|0,u=u+Math.imul(Q,Pe)|0,w=w+Math.imul(Q,Ne)|0,m=m+Math.imul(E,Oe)|0,u=u+Math.imul(E,Le)|0,u=u+Math.imul(S,Oe)|0,w=w+Math.imul(S,Le)|0,m=m+Math.imul($,Be)|0,u=u+Math.imul($,$e)|0,u=u+Math.imul(H,Be)|0,w=w+Math.imul(H,$e)|0,m=m+Math.imul(U,Fe)|0,u=u+Math.imul(U,De)|0,u=u+Math.imul(I,Fe)|0,w=w+Math.imul(I,De)|0;var rr=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(be,Ee),u=Math.imul(be,Se),u=u+Math.imul(we,Ee)|0,w=Math.imul(we,Se),m=m+Math.imul(me,Re)|0,u=u+Math.imul(me,Me)|0,u=u+Math.imul(ve,Re)|0,w=w+Math.imul(ve,Me)|0,m=m+Math.imul(he,Ce)|0,u=u+Math.imul(he,ke)|0,u=u+Math.imul(ue,Ce)|0,w=w+Math.imul(ue,ke)|0,m=m+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ie)|0,u=u+Math.imul(de,Ae)|0,w=w+Math.imul(de,Ie)|0,m=m+Math.imul(ge,xe)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,xe)|0,w=w+Math.imul(ye,Te)|0,m=m+Math.imul(K,Pe)|0,u=u+Math.imul(K,Ne)|0,u=u+Math.imul(le,Pe)|0,w=w+Math.imul(le,Ne)|0,m=m+Math.imul(j,Oe)|0,u=u+Math.imul(j,Le)|0,u=u+Math.imul(Q,Oe)|0,w=w+Math.imul(Q,Le)|0,m=m+Math.imul(E,Be)|0,u=u+Math.imul(E,$e)|0,u=u+Math.imul(S,Be)|0,w=w+Math.imul(S,$e)|0,m=m+Math.imul($,Fe)|0,u=u+Math.imul($,De)|0,u=u+Math.imul(H,Fe)|0,w=w+Math.imul(H,De)|0,m=m+Math.imul(U,je)|0,u=u+Math.imul(U,Ue)|0,u=u+Math.imul(I,je)|0,w=w+Math.imul(I,Ue)|0;var nr=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Re),u=Math.imul(be,Me),u=u+Math.imul(we,Re)|0,w=Math.imul(we,Me),m=m+Math.imul(me,Ce)|0,u=u+Math.imul(me,ke)|0,u=u+Math.imul(ve,Ce)|0,w=w+Math.imul(ve,ke)|0,m=m+Math.imul(he,Ae)|0,u=u+Math.imul(he,Ie)|0,u=u+Math.imul(ue,Ae)|0,w=w+Math.imul(ue,Ie)|0,m=m+Math.imul(fe,xe)|0,u=u+Math.imul(fe,Te)|0,u=u+Math.imul(de,xe)|0,w=w+Math.imul(de,Te)|0,m=m+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,Pe)|0,w=w+Math.imul(ye,Ne)|0,m=m+Math.imul(K,Oe)|0,u=u+Math.imul(K,Le)|0,u=u+Math.imul(le,Oe)|0,w=w+Math.imul(le,Le)|0,m=m+Math.imul(j,Be)|0,u=u+Math.imul(j,$e)|0,u=u+Math.imul(Q,Be)|0,w=w+Math.imul(Q,$e)|0,m=m+Math.imul(E,Fe)|0,u=u+Math.imul(E,De)|0,u=u+Math.imul(S,Fe)|0,w=w+Math.imul(S,De)|0,m=m+Math.imul($,je)|0,u=u+Math.imul($,Ue)|0,u=u+Math.imul(H,je)|0,w=w+Math.imul(H,Ue)|0;var ir=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Ce),u=Math.imul(be,ke),u=u+Math.imul(we,Ce)|0,w=Math.imul(we,ke),m=m+Math.imul(me,Ae)|0,u=u+Math.imul(me,Ie)|0,u=u+Math.imul(ve,Ae)|0,w=w+Math.imul(ve,Ie)|0,m=m+Math.imul(he,xe)|0,u=u+Math.imul(he,Te)|0,u=u+Math.imul(ue,xe)|0,w=w+Math.imul(ue,Te)|0,m=m+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(de,Pe)|0,w=w+Math.imul(de,Ne)|0,m=m+Math.imul(ge,Oe)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Oe)|0,w=w+Math.imul(ye,Le)|0,m=m+Math.imul(K,Be)|0,u=u+Math.imul(K,$e)|0,u=u+Math.imul(le,Be)|0,w=w+Math.imul(le,$e)|0,m=m+Math.imul(j,Fe)|0,u=u+Math.imul(j,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,m=m+Math.imul(E,je)|0,u=u+Math.imul(E,Ue)|0,u=u+Math.imul(S,je)|0,w=w+Math.imul(S,Ue)|0;var sr=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(be,Ae),u=Math.imul(be,Ie),u=u+Math.imul(we,Ae)|0,w=Math.imul(we,Ie),m=m+Math.imul(me,xe)|0,u=u+Math.imul(me,Te)|0,u=u+Math.imul(ve,xe)|0,w=w+Math.imul(ve,Te)|0,m=m+Math.imul(he,Pe)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ue,Pe)|0,w=w+Math.imul(ue,Ne)|0,m=m+Math.imul(fe,Oe)|0,u=u+Math.imul(fe,Le)|0,u=u+Math.imul(de,Oe)|0,w=w+Math.imul(de,Le)|0,m=m+Math.imul(ge,Be)|0,u=u+Math.imul(ge,$e)|0,u=u+Math.imul(ye,Be)|0,w=w+Math.imul(ye,$e)|0,m=m+Math.imul(K,Fe)|0,u=u+Math.imul(K,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,m=m+Math.imul(j,je)|0,u=u+Math.imul(j,Ue)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,Ue)|0;var or=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(be,xe),u=Math.imul(be,Te),u=u+Math.imul(we,xe)|0,w=Math.imul(we,Te),m=m+Math.imul(me,Pe)|0,u=u+Math.imul(me,Ne)|0,u=u+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,Ne)|0,m=m+Math.imul(he,Oe)|0,u=u+Math.imul(he,Le)|0,u=u+Math.imul(ue,Oe)|0,w=w+Math.imul(ue,Le)|0,m=m+Math.imul(fe,Be)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(de,Be)|0,w=w+Math.imul(de,$e)|0,m=m+Math.imul(ge,Fe)|0,u=u+Math.imul(ge,De)|0,u=u+Math.imul(ye,Fe)|0,w=w+Math.imul(ye,De)|0,m=m+Math.imul(K,je)|0,u=u+Math.imul(K,Ue)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,Ue)|0;var ar=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,Pe),u=Math.imul(be,Ne),u=u+Math.imul(we,Pe)|0,w=Math.imul(we,Ne),m=m+Math.imul(me,Oe)|0,u=u+Math.imul(me,Le)|0,u=u+Math.imul(ve,Oe)|0,w=w+Math.imul(ve,Le)|0,m=m+Math.imul(he,Be)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ue,Be)|0,w=w+Math.imul(ue,$e)|0,m=m+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(de,Fe)|0,w=w+Math.imul(de,De)|0,m=m+Math.imul(ge,je)|0,u=u+Math.imul(ge,Ue)|0,u=u+Math.imul(ye,je)|0,w=w+Math.imul(ye,Ue)|0;var $s=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+($s>>>26)|0,$s&=67108863,m=Math.imul(be,Oe),u=Math.imul(be,Le),u=u+Math.imul(we,Oe)|0,w=Math.imul(we,Le),m=m+Math.imul(me,Be)|0,u=u+Math.imul(me,$e)|0,u=u+Math.imul(ve,Be)|0,w=w+Math.imul(ve,$e)|0,m=m+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ue,Fe)|0,w=w+Math.imul(ue,De)|0,m=m+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(de,je)|0,w=w+Math.imul(de,Ue)|0;var Fs=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,m=Math.imul(be,Be),u=Math.imul(be,$e),u=u+Math.imul(we,Be)|0,w=Math.imul(we,$e),m=m+Math.imul(me,Fe)|0,u=u+Math.imul(me,De)|0,u=u+Math.imul(ve,Fe)|0,w=w+Math.imul(ve,De)|0,m=m+Math.imul(he,je)|0,u=u+Math.imul(he,Ue)|0,u=u+Math.imul(ue,je)|0,w=w+Math.imul(ue,Ue)|0;var Ds=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(Ds>>>26)|0,Ds&=67108863,m=Math.imul(be,Fe),u=Math.imul(be,De),u=u+Math.imul(we,Fe)|0,w=Math.imul(we,De),m=m+Math.imul(me,je)|0,u=u+Math.imul(me,Ue)|0,u=u+Math.imul(ve,je)|0,w=w+Math.imul(ve,Ue)|0;var js=(x+m|0)+((u&8191)<<13)|0;x=(w+(u>>>13)|0)+(js>>>26)|0,js&=67108863,m=Math.imul(be,je),u=Math.imul(be,Ue),u=u+Math.imul(we,je)|0,w=Math.imul(we,Ue);var Us=(x+m|0)+((u&8191)<<13)|0;return x=(w+(u>>>13)|0)+(Us>>>26)|0,Us&=67108863,R[0]=Jt,R[1]=Zt,R[2]=Kt,R[3]=Qt,R[4]=Yt,R[5]=Xt,R[6]=er,R[7]=tr,R[8]=rr,R[9]=nr,R[10]=ir,R[11]=sr,R[12]=or,R[13]=ar,R[14]=$s,R[15]=Fs,R[16]=Ds,R[17]=js,R[18]=Us,x!==0&&(R[19]=x,g.length++),g};Math.imul||(k=b);function A(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var g=0,y=0,v=0;v<f.length-1;v++){var R=y;y=0;for(var x=g&67108863,m=Math.min(v,a.length-1),u=Math.max(0,v-C.length+1);u<=m;u++){var w=v-u,q=C.words[w]|0,U=a.words[u]|0,I=q*U,N=I&67108863;R=R+(I/67108864|0)|0,N=N+x|0,x=N&67108863,R=R+(N>>>26)|0,y+=R>>>26,R&=67108863}f.words[v]=x,g=R,R=y}return g!==0?f.words[v]=g:f.length--,f._strip()}function L(C,a,f){return A(C,a,f)}s.prototype.mulTo=function(a,f){var g,y=this.length+a.length;return this.length===10&&a.length===10?g=k(this,a,f):y<63?g=b(this,a,f):y<1024?g=A(this,a,f):g=L(this,a,f),g},s.prototype.mul=function(a){var f=new s(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},s.prototype.mulf=function(a){var f=new s(null);return f.words=new Array(this.length+a.length),L(this,a,f)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var f=a<0;f&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var g=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*a,R=(v&67108863)+(g&67108863);g>>=26,g+=v/67108864|0,g+=R>>>26,this.words[y]=R&67108863}return g!==0&&(this.words[y]=g,this.length++),this.length=a===0?1:this.length,f?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var f=P(a);if(f.length===0)return new s(1);for(var g=this,y=0;y<f.length&&f[y]===0;y++,g=g.sqr());if(++y<f.length)for(var v=g.sqr();y<f.length;y++,v=v.sqr())f[y]!==0&&(g=g.mul(v));return g},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26,y=67108863>>>26-f<<26-f,v;if(f!==0){var R=0;for(v=0;v<this.length;v++){var x=this.words[v]&y,m=(this.words[v]|0)-x<<f;this.words[v]=m|R,R=x>>>26-f}R&&(this.words[v]=R,this.length++)}if(g!==0){for(v=this.length-1;v>=0;v--)this.words[v+g]=this.words[v];for(v=0;v<g;v++)this.words[v]=0;this.length+=g}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,f,g){n(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var v=a%26,R=Math.min((a-v)/26,this.length),x=67108863^67108863>>>v<<v,m=g;if(y-=R,y=Math.max(0,y),m){for(var u=0;u<R;u++)m.words[u]=this.words[u];m.length=R}if(R!==0)if(this.length>R)for(this.length-=R,u=0;u<this.length;u++)this.words[u]=this.words[u+R];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=w<<26-v|q>>>v,w=q&x}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,f,g){return n(this.negative===0),this.iushrn(a,f,g)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26,y=1<<f;if(this.length<=g)return!1;var v=this.words[g];return!!(v&y)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(f!==0&&g++,this.length=Math.min(g,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,f,g){var y=a.length+g,v;this._expand(y);var R,x=0;for(v=0;v<a.length;v++){R=(this.words[v+g]|0)+x;var m=(a.words[v]|0)*f;R-=m&67108863,x=(R>>26)-(m/67108864|0),this.words[v+g]=R&67108863}for(;v<this.length-g;v++)R=(this.words[v+g]|0)+x,x=R>>26,this.words[v+g]=R&67108863;if(x===0)return this._strip();for(n(x===-1),x=0,v=0;v<this.length;v++)R=-(this.words[v]|0)+x,x=R>>26,this.words[v]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,f){var g=this.length-a.length,y=this.clone(),v=a,R=v.words[v.length-1]|0,x=this._countBits(R);g=26-x,g!==0&&(v=v.ushln(g),y.iushln(g),R=v.words[v.length-1]|0);var m=y.length-v.length,u;if(f!=="mod"){u=new s(null),u.length=m+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var q=y.clone()._ishlnsubmul(v,1,m);q.negative===0&&(y=q,u&&(u.words[m]=1));for(var U=m-1;U>=0;U--){var I=(y.words[v.length+U]|0)*67108864+(y.words[v.length+U-1]|0);for(I=Math.min(I/R|0,67108863),y._ishlnsubmul(v,I,U);y.negative!==0;)I--,y.negative=0,y._ishlnsubmul(v,1,U),y.isZero()||(y.negative^=1);u&&(u.words[U]=I)}return u&&u._strip(),y._strip(),f!=="div"&&g!==0&&y.iushrn(g),{div:u||null,mod:y}},s.prototype.divmod=function(a,f,g){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,v,R;return this.negative!==0&&a.negative===0?(R=this.neg().divmod(a,f),f!=="mod"&&(y=R.div.neg()),f!=="div"&&(v=R.mod.neg(),g&&v.negative!==0&&v.iadd(a)),{div:y,mod:v}):this.negative===0&&a.negative!==0?(R=this.divmod(a.neg(),f),f!=="mod"&&(y=R.div.neg()),{div:y,mod:R.mod}):this.negative&a.negative?(R=this.neg().divmod(a.neg(),f),f!=="div"&&(v=R.mod.neg(),g&&v.negative!==0&&v.isub(a)),{div:R.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,f)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var g=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),v=a.andln(1),R=g.cmp(y);return R<0||v===1&&R===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},s.prototype.modrn=function(a){var f=a<0;f&&(a=-a),n(a<=67108863);for(var g=(1<<26)%a,y=0,v=this.length-1;v>=0;v--)y=(g*y+(this.words[v]|0))%a;return f?-y:y},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var f=a<0;f&&(a=-a),n(a<=67108863);for(var g=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+g*67108864;this.words[y]=v/a|0,g=v%a}return this._strip(),f?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,g=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new s(1),v=new s(0),R=new s(0),x=new s(1),m=0;f.isEven()&&g.isEven();)f.iushrn(1),g.iushrn(1),++m;for(var u=g.clone(),w=f.clone();!f.isZero();){for(var q=0,U=1;!(f.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(u),v.isub(w)),y.iushrn(1),v.iushrn(1);for(var I=0,N=1;!(g.words[0]&N)&&I<26;++I,N<<=1);if(I>0)for(g.iushrn(I);I-- >0;)(R.isOdd()||x.isOdd())&&(R.iadd(u),x.isub(w)),R.iushrn(1),x.iushrn(1);f.cmp(g)>=0?(f.isub(g),y.isub(R),v.isub(x)):(g.isub(f),R.isub(y),x.isub(v))}return{a:R,b:x,gcd:g.iushln(m)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,g=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new s(1),v=new s(0),R=g.clone();f.cmpn(1)>0&&g.cmpn(1)>0;){for(var x=0,m=1;!(f.words[0]&m)&&x<26;++x,m<<=1);if(x>0)for(f.iushrn(x);x-- >0;)y.isOdd()&&y.iadd(R),y.iushrn(1);for(var u=0,w=1;!(g.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(g.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(R),v.iushrn(1);f.cmp(g)>=0?(f.isub(g),y.isub(v)):(g.isub(f),v.isub(y))}var q;return f.cmpn(1)===0?q=y:q=v,q.cmpn(0)<0&&q.iadd(a),q},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),g=a.clone();f.negative=0,g.negative=0;for(var y=0;f.isEven()&&g.isEven();y++)f.iushrn(1),g.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;g.isEven();)g.iushrn(1);var v=f.cmp(g);if(v<0){var R=f;f=g,g=R}else if(v===0||g.cmpn(1)===0)break;f.isub(g)}while(!0);return g.iushln(y)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,g=(a-f)/26,y=1<<f;if(this.length<=g)return this._expand(g+1),this.words[g]|=y,this;for(var v=y,R=g;v!==0&&R<this.length;R++){var x=this.words[R]|0;x+=v,v=x>>>26,x&=67108863,this.words[R]=x}return v!==0&&(this.words[R]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var g;if(this.length>1)g=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var y=this.words[0]|0;g=y===a?0:y<a?-1:1}return this.negative!==0?-g|0:g},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,g=this.length-1;g>=0;g--){var y=this.words[g]|0,v=a.words[g]|0;if(y!==v){y<v?f=-1:y>v&&(f=1);break}}return f},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new Z(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var B={k256:null,p224:null,p192:null,p25519:null};function F(C,a){this.name=C,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},F.prototype.ireduce=function(a){var f=a,g;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),g=f.bitLength();while(g>this.n);var y=g<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},F.prototype.split=function(a,f){a.iushrn(this.n,0,f)},F.prototype.imulK=function(a){return a.imul(this.k)};function J(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(J,F),J.prototype.split=function(a,f){for(var g=4194303,y=Math.min(a.length,9),v=0;v<y;v++)f.words[v]=a.words[v];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var R=a.words[9];for(f.words[f.length++]=R&g,v=10;v<a.length;v++){var x=a.words[v]|0;a.words[v-10]=(x&g)<<4|R>>>22,R=x}R>>>=22,a.words[v-10]=R,R===0&&a.length>10?a.length-=10:a.length-=9},J.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,g=0;g<a.length;g++){var y=a.words[g]|0;f+=y*977,a.words[g]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,F);function W(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,F);function te(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(te,F),te.prototype.imulK=function(a){for(var f=0,g=0;g<a.length;g++){var y=(a.words[g]|0)*19+f,v=y&67108863;y>>>=26,a.words[g]=v,f=y}return f!==0&&(a.words[a.length++]=f),a},s._prime=function(a){if(B[a])return B[a];var f;if(a==="k256")f=new J;else if(a==="p224")f=new V;else if(a==="p192")f=new W;else if(a==="p25519")f=new te;else throw new Error("Unknown prime "+a);return B[a]=f,f};function Z(C){if(typeof C=="string"){var a=s._prime(C);this.m=a.p,this.prime=a}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,f){this._verify2(a,f);var g=a.add(f);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Z.prototype.iadd=function(a,f){this._verify2(a,f);var g=a.iadd(f);return g.cmp(this.m)>=0&&g.isub(this.m),g},Z.prototype.sub=function(a,f){this._verify2(a,f);var g=a.sub(f);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Z.prototype.isub=function(a,f){this._verify2(a,f);var g=a.isub(f);return g.cmpn(0)<0&&g.iadd(this.m),g},Z.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Z.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Z.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var g=this.m.add(new s(1)).iushrn(2);return this.pow(a,g)}for(var y=this.m.subn(1),v=0;!y.isZero()&&y.andln(1)===0;)v++,y.iushrn(1);n(!y.isZero());var R=new s(1).toRed(this),x=R.redNeg(),m=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,m).cmp(x)!==0;)u.redIAdd(x);for(var w=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),I=v;U.cmp(R)!==0;){for(var N=U,$=0;N.cmp(R)!==0;$++)N=N.redSqr();n($<I);var H=this.pow(w,new s(1).iushln(I-$-1));q=q.redMul(H),w=H.redSqr(),U=U.redMul(w),I=$}return q},Z.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Z.prototype.pow=function(a,f){if(f.isZero())return new s(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var g=4,y=new Array(1<<g);y[0]=new s(1).toRed(this),y[1]=a;for(var v=2;v<y.length;v++)y[v]=this.mul(y[v-1],a);var R=y[0],x=0,m=0,u=f.bitLength()%26;for(u===0&&(u=26),v=f.length-1;v>=0;v--){for(var w=f.words[v],q=u-1;q>=0;q--){var U=w>>q&1;if(R!==y[0]&&(R=this.sqr(R)),U===0&&x===0){m=0;continue}x<<=1,x|=U,m++,!(m!==g&&(v!==0||q!==0))&&(R=this.mul(R,y[x]),m=0,x=0)}u=26}return R},Z.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Z.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},s.mont=function(a){return new X(a)};function X(C){Z.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,Z),X.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},X.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},X.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(f),y=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=g.isub(y).iushrn(this.shift),R=v;return v.cmp(this.m)>=0?R=v.isub(this.m):v.cmpn(0)<0&&(R=v.iadd(this.m)),R._forceRed(this)},X.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new s(0)._forceRed(this);var g=a.mul(f),y=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=g.isub(y).iushrn(this.shift),R=v;return v.cmp(this.m)>=0?R=v.isub(this.m):v.cmpn(0)<0&&(R=v.iadd(this.m)),R._forceRed(this)},X.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(e,G)})(ia);var qi=ia.exports,Pn={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.errorValues=$t.standardErrorCodes=void 0;$t.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};$t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var Vi={},zi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=$t,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(_,M=r){if(_&&Number.isInteger(_)){const O=_.toString();if(d(t.errorValues,O))return t.errorValues[O].message;if(l(_))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return M}e.getMessageFromCode=n;function i(_){if(!Number.isInteger(_))return!1;const M=_.toString();return!!(t.errorValues[M]||l(_))}e.isValidCode=i;function s(_){var M;if(typeof _=="number")return _;if(o(_))return(M=_.code)!==null&&M!==void 0?M:_.errorCode}e.getErrorCode=s;function o(_){return typeof _=="object"&&_!==null&&(typeof _.code=="number"||typeof _.errorCode=="number")}function c(_,{shouldIncludeStack:M=!1}={}){const O={};if(_&&typeof _=="object"&&!Array.isArray(_)&&d(_,"code")&&i(_.code)){const T=_;O.code=T.code,T.message&&typeof T.message=="string"?(O.message=T.message,d(T,"data")&&(O.data=T.data)):(O.message=n(O.code),O.data={originalError:h(_)})}else O.code=t.standardErrorCodes.rpc.internal,O.message=p(_,"message")?_.message:r,O.data={originalError:h(_)};return M&&(O.stack=p(_,"stack")?_.stack:void 0),O}e.serialize=c;function l(_){return _>=-32099&&_<=-32e3}function h(_){return _&&typeof _=="object"&&!Array.isArray(_)?Object.assign({},_):_}function d(_,M){return Object.prototype.hasOwnProperty.call(_,M)}function p(_,M){return typeof _=="object"&&_!==null&&M in _&&typeof _[M]=="string"}})(zi);Object.defineProperty(Vi,"__esModule",{value:!0});Vi.standardErrors=void 0;const Xe=$t,mu=zi;Vi.standardErrors={rpc:{parse:e=>ht(Xe.standardErrorCodes.rpc.parse,e),invalidRequest:e=>ht(Xe.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>ht(Xe.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>ht(Xe.standardErrorCodes.rpc.methodNotFound,e),internal:e=>ht(Xe.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ht(t,e)},invalidInput:e=>ht(Xe.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>ht(Xe.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ht(Xe.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ht(Xe.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ht(Xe.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ht(Xe.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>$r(Xe.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>$r(Xe.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>$r(Xe.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>$r(Xe.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>$r(Xe.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>$r(Xe.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new wu(t,r,n)}}};function ht(e,t){const[r,n]=vu(t);return new bu(e,r||(0,mu.getMessageFromCode)(e),n)}function $r(e,t){const[r,n]=vu(t);return new wu(e,r||(0,mu.getMessageFromCode)(e),n)}function vu(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let bu=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},wu=class extends bu{constructor(t,r,n){if(!id(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function id(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var Gi={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.isErrorResponse=void 0;function sd(e){return e.errorMessage!==void 0}hn.isErrorResponse=sd;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.LIB_VERSION=void 0;fn.LIB_VERSION="3.9.3";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.serializeError=void 0;const od=hn,ad=fn,cd=$t,ld=zi;function ud(e,t){const r=(0,ld.serialize)(hd(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",ad.LIB_VERSION),n.searchParams.set("code",r.code.toString());const i=fd(r.data,t);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}Gi.serializeError=ud;function hd(e){return typeof e=="string"?{message:e,code:cd.standardErrorCodes.rpc.internal}:(0,od.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function fd(e,t){const r=e?.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=$t;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=Vi;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=Gi;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const i=zi;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})})(Pn);var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.ProviderType=Je.RegExpString=Je.IntNumber=Je.BigIntString=Je.AddressString=Je.HexString=Je.OpaqueType=void 0;function Nn(){return e=>e}Je.OpaqueType=Nn;Je.HexString=Nn();Je.AddressString=Nn();Je.BigIntString=Nn();function dd(e){return Math.floor(e)}Je.IntNumber=dd;Je.RegExpString=Nn();var Va;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(Va||(Je.ProviderType=Va={}));var pd=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});z.isMobileWeb=z.getLocation=z.isInIFrame=z.createQrUrl=z.getFavicon=z.range=z.isBigNumber=z.ensureParsedJSONObject=z.ensureBN=z.ensureRegExpString=z.ensureIntNumber=z.ensureBuffer=z.ensureAddressString=z.ensureEvenLengthHexString=z.ensureHexString=z.isHexString=z.prepend0x=z.strip0x=z.has0xPrefix=z.hexStringFromIntNumber=z.intNumberFromHexString=z.bigIntStringFromBN=z.hexStringFromBuffer=z.hexStringToUint8Array=z.uint8ArrayToHex=z.randomBytesHex=void 0;const qt=pd(qi),wr=Pn,gt=Je,Eu=/^[0-9]*$/,Su=/^[a-f0-9]*$/;function gd(e){return Ru(crypto.getRandomValues(new Uint8Array(e)))}z.randomBytesHex=gd;function Ru(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}z.uint8ArrayToHex=Ru;function _d(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}z.hexStringToUint8Array=_d;function yd(e,t=!1){const r=e.toString("hex");return(0,gt.HexString)(t?`0x${r}`:r)}z.hexStringFromBuffer=yd;function md(e){return(0,gt.BigIntString)(e.toString(10))}z.bigIntStringFromBN=md;function vd(e){return(0,gt.IntNumber)(new qt.default(Ln(e,!1),16).toNumber())}z.intNumberFromHexString=vd;function bd(e){return(0,gt.HexString)(`0x${new qt.default(e).toString(16)}`)}z.hexStringFromIntNumber=bd;function sa(e){return e.startsWith("0x")||e.startsWith("0X")}z.has0xPrefix=sa;function Ji(e){return sa(e)?e.slice(2):e}z.strip0x=Ji;function Mu(e){return sa(e)?`0x${e.slice(2)}`:`0x${e}`}z.prepend0x=Mu;function On(e){if(typeof e!="string")return!1;const t=Ji(e).toLowerCase();return Su.test(t)}z.isHexString=On;function Cu(e,t=!1){if(typeof e=="string"){const r=Ji(e).toLowerCase();if(Su.test(r))return(0,gt.HexString)(t?`0x${r}`:r)}throw wr.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}z.ensureHexString=Cu;function Ln(e,t=!1){let r=Cu(e,!1);return r.length%2===1&&(r=(0,gt.HexString)(`0${r}`)),t?(0,gt.HexString)(`0x${r}`):r}z.ensureEvenLengthHexString=Ln;function wd(e){if(typeof e=="string"){const t=Ji(e).toLowerCase();if(On(t)&&t.length===40)return(0,gt.AddressString)(Mu(t))}throw wr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}z.ensureAddressString=wd;function Ed(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(On(e)){const t=Ln(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw wr.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}z.ensureBuffer=Ed;function ku(e){if(typeof e=="number"&&Number.isInteger(e))return(0,gt.IntNumber)(e);if(typeof e=="string"){if(Eu.test(e))return(0,gt.IntNumber)(Number(e));if(On(e))return(0,gt.IntNumber)(new qt.default(Ln(e,!1),16).toNumber())}throw wr.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}z.ensureIntNumber=ku;function Sd(e){if(e instanceof RegExp)return(0,gt.RegExpString)(e.toString());throw wr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}z.ensureRegExpString=Sd;function Rd(e){if(e!==null&&(qt.default.isBN(e)||Au(e)))return new qt.default(e.toString(10),10);if(typeof e=="number")return new qt.default(ku(e));if(typeof e=="string"){if(Eu.test(e))return new qt.default(e,10);if(On(e))return new qt.default(Ln(e,!1),16)}throw wr.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}z.ensureBN=Rd;function Md(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw wr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}z.ensureParsedJSONObject=Md;function Au(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}z.isBigNumber=Au;function Cd(e,t){return Array.from({length:t-e},(r,n)=>e+n)}z.range=Cd;function kd(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}z.getFavicon=kd;function Ad(e,t,r,n,i,s){const o=n?"parent-id":"id",c=new URLSearchParams({[o]:e,secret:t,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${c}`}z.createQrUrl=Ad;function Iu(){try{return window.frameElement!==null}catch{return!1}}z.isInIFrame=Iu;function Id(){try{return Iu()&&window.top?window.top.location:window.location}catch{return window.location}}z.getLocation=Id;function xd(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window?.navigator)===null||e===void 0?void 0:e.userAgent)}z.isMobileWeb=xd;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ScopedLocalStorage=void 0;class Td{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(t)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}Zi.ScopedLocalStorage=Td;var Xr={};const Pd=un(Yf);var Bn={},$n={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.EVENTS=void 0;dn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.RelayAbstract=pt.APP_VERSION_KEY=pt.LOCAL_STORAGE_ADDRESSES_KEY=pt.WALLET_USER_NAME_KEY=void 0;const za=Pn;pt.WALLET_USER_NAME_KEY="walletUsername";pt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";pt.APP_VERSION_KEY="AppVersion";class Nd{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw za.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,za.serializeError)(s,t.method);return i})}}pt.RelayAbstract=Nd;var pn={},xu={exports:{}},jo={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Di,n=r.Buffer;function i(o,c){for(var l in o)c[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,c,l){return n(o,c,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,c,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,l)},s.alloc=function(o,c,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof l=="string"?h.fill(c,l):h.fill(c):h.fill(0),h},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(jo,jo.exports);var jt=jo.exports,Od={}.toString,Ld=Array.isArray||function(e){return Od.call(e)=="[object Array]"},Fn=TypeError,Tu=Object,Bd=Error,$d=EvalError,Fd=RangeError,Dd=ReferenceError,Pu=SyntaxError,jd=URIError,Ud=Math.abs,Hd=Math.floor,Wd=Math.max,qd=Math.min,Vd=Math.pow,zd=Math.round,Gd=Number.isNaN||function(t){return t!==t},Jd=Gd,Zd=function(t){return Jd(t)||t===0?t:t<0?-1:1},Kd=Object.getOwnPropertyDescriptor,Ci=Kd;if(Ci)try{Ci([],"length")}catch{Ci=null}var Dn=Ci,ki=Object.defineProperty||!1;if(ki)try{ki({},"a",{value:1})}catch{ki=!1}var Ki=ki,Hs,Ga;function Nu(){return Ga||(Ga=1,Hs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0}),Hs}var Ws,Ja;function Qd(){if(Ja)return Ws;Ja=1;var e=typeof Symbol<"u"&&Symbol,t=Nu();return Ws=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Ws}var qs,Za;function Ou(){return Za||(Za=1,qs=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),qs}var Vs,Ka;function Lu(){if(Ka)return Vs;Ka=1;var e=Tu;return Vs=e.getPrototypeOf||null,Vs}var Yd="Function.prototype.bind called on incompatible ",Xd=Object.prototype.toString,e0=Math.max,t0="[object Function]",Qa=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},r0=function(t,r){for(var n=[],i=r,s=0;i<t.length;i+=1,s+=1)n[s]=t[i];return n},n0=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},i0=function(t){var r=this;if(typeof r!="function"||Xd.apply(r)!==t0)throw new TypeError(Yd+r);for(var n=r0(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,Qa(n,arguments));return Object(d)===d?d:this}return r.apply(t,Qa(n,arguments))},o=e0(0,r.length-n.length),c=[],l=0;l<o;l++)c[l]="$"+l;if(i=Function("binder","return function ("+n0(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},s0=i0,jn=Function.prototype.bind||s0,oa=Function.prototype.call,aa=Function.prototype.apply,o0=typeof Reflect<"u"&&Reflect&&Reflect.apply,a0=jn,c0=aa,l0=oa,u0=o0,Bu=u0||a0.call(l0,c0),h0=jn,f0=Fn,d0=oa,p0=Bu,ca=function(t){if(t.length<1||typeof t[0]!="function")throw new f0("a function is required");return p0(h0,d0,t)},zs,Ya;function g0(){if(Ya)return zs;Ya=1;var e=ca,t=Dn,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return zs=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(c){return s(c==null?c:i(c))}:!1,zs}var Gs,Xa;function $u(){if(Xa)return Gs;Xa=1;var e=Ou(),t=Lu(),r=g0();return Gs=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Gs}var Js,ec;function _0(){if(ec)return Js;ec=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=jn;return Js=r.call(e,t),Js}var se,y0=Tu,m0=Bd,v0=$d,b0=Fd,w0=Dd,en=Pu,Gr=Fn,E0=jd,S0=Ud,R0=Hd,M0=Wd,C0=qd,k0=Vd,A0=zd,I0=Zd,Fu=Function,Zs=function(e){try{return Fu('"use strict"; return ('+e+").constructor;")()}catch{}},kn=Dn,x0=Ki,Ks=function(){throw new Gr},T0=kn?function(){try{return arguments.callee,Ks}catch{try{return kn(arguments,"callee").get}catch{return Ks}}}():Ks,Fr=Qd()(),Qe=$u(),P0=Lu(),N0=Ou(),Du=aa,Un=oa,qr={},O0=typeof Uint8Array>"u"||!Qe?se:Qe(Uint8Array),yr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?se:ArrayBuffer,"%ArrayIteratorPrototype%":Fr&&Qe?Qe([][Symbol.iterator]()):se,"%AsyncFromSyncIteratorPrototype%":se,"%AsyncFunction%":qr,"%AsyncGenerator%":qr,"%AsyncGeneratorFunction%":qr,"%AsyncIteratorPrototype%":qr,"%Atomics%":typeof Atomics>"u"?se:Atomics,"%BigInt%":typeof BigInt>"u"?se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m0,"%eval%":eval,"%EvalError%":v0,"%Float16Array%":typeof Float16Array>"u"?se:Float16Array,"%Float32Array%":typeof Float32Array>"u"?se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?se:FinalizationRegistry,"%Function%":Fu,"%GeneratorFunction%":qr,"%Int8Array%":typeof Int8Array>"u"?se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fr&&Qe?Qe(Qe([][Symbol.iterator]())):se,"%JSON%":typeof JSON=="object"?JSON:se,"%Map%":typeof Map>"u"?se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fr||!Qe?se:Qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":y0,"%Object.getOwnPropertyDescriptor%":kn,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?se:Promise,"%Proxy%":typeof Proxy>"u"?se:Proxy,"%RangeError%":b0,"%ReferenceError%":w0,"%Reflect%":typeof Reflect>"u"?se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fr||!Qe?se:Qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fr&&Qe?Qe(""[Symbol.iterator]()):se,"%Symbol%":Fr?Symbol:se,"%SyntaxError%":en,"%ThrowTypeError%":T0,"%TypedArray%":O0,"%TypeError%":Gr,"%Uint8Array%":typeof Uint8Array>"u"?se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?se:Uint32Array,"%URIError%":E0,"%WeakMap%":typeof WeakMap>"u"?se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?se:WeakSet,"%Function.prototype.call%":Un,"%Function.prototype.apply%":Du,"%Object.defineProperty%":x0,"%Object.getPrototypeOf%":P0,"%Math.abs%":S0,"%Math.floor%":R0,"%Math.max%":M0,"%Math.min%":C0,"%Math.pow%":k0,"%Math.round%":A0,"%Math.sign%":I0,"%Reflect.getPrototypeOf%":N0};if(Qe)try{null.error}catch(e){var L0=Qe(Qe(e));yr["%Error.prototype%"]=L0}var B0=function e(t){var r;if(t==="%AsyncFunction%")r=Zs("async function () {}");else if(t==="%GeneratorFunction%")r=Zs("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Zs("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Qe&&(r=Qe(i.prototype))}return yr[t]=r,r},tc={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hn=jn,Ni=_0(),$0=Hn.call(Un,Array.prototype.concat),F0=Hn.call(Du,Array.prototype.splice),rc=Hn.call(Un,String.prototype.replace),Oi=Hn.call(Un,String.prototype.slice),D0=Hn.call(Un,RegExp.prototype.exec),j0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U0=/\\(\\)?/g,H0=function(t){var r=Oi(t,0,1),n=Oi(t,-1);if(r==="%"&&n!=="%")throw new en("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new en("invalid intrinsic syntax, expected opening `%`");var i=[];return rc(t,j0,function(s,o,c,l){i[i.length]=c?rc(l,U0,"$1"):o||s}),i},W0=function(t,r){var n=t,i;if(Ni(tc,n)&&(i=tc[n],n="%"+i[0]+"%"),Ni(yr,n)){var s=yr[n];if(s===qr&&(s=B0(n)),typeof s>"u"&&!r)throw new Gr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new en("intrinsic "+t+" does not exist!")},ju=function(t,r){if(typeof t!="string"||t.length===0)throw new Gr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Gr('"allowMissing" argument must be a boolean');if(D0(/^%?[^%]*%?$/,t)===null)throw new en("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=H0(t),i=n.length>0?n[0]:"",s=W0("%"+i+"%",r),o=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],F0(n,$0([0,1],h)));for(var d=1,p=!0;d<n.length;d+=1){var _=n[d],M=Oi(_,0,1),O=Oi(_,-1);if((M==='"'||M==="'"||M==="`"||O==='"'||O==="'"||O==="`")&&M!==O)throw new en("property names with quotes must have matching quotes");if((_==="constructor"||!p)&&(l=!0),i+="."+_,o="%"+i+"%",Ni(yr,o))c=yr[o];else if(c!=null){if(!(_ in c)){if(!r)throw new Gr("base intrinsic for "+t+" exists, but the property is not available.");return}if(kn&&d+1>=n.length){var T=kn(c,_);p=!!T,p&&"get"in T&&!("originalValue"in T.get)?c=T.get:c=c[_]}else p=Ni(c,_),c=c[_];p&&!l&&(yr[o]=c)}}return c},Uu=ju,Hu=ca,q0=Hu([Uu("%String.prototype.indexOf%")]),Wu=function(t,r){var n=Uu(t,!!r);return typeof n=="function"&&q0(t,".prototype.")>-1?Hu([n]):n},Qs,nc;function V0(){if(nc)return Qs;nc=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(k){k!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(A){try{var L=e.call(A);return i.test(L)}catch{return!1}},o=function(A){try{return s(A)?!1:(e.call(A),!0)}catch{return!1}},c=Object.prototype.toString,l="[object Object]",h="[object Function]",d="[object GeneratorFunction]",p="[object HTMLAllCollection]",_="[object HTML document.all class]",M="[object HTMLCollection]",O=typeof Symbol=="function"&&!!Symbol.toStringTag,T=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var b=document.all;c.call(b)===c.call(document.all)&&(P=function(A){if((T||!A)&&(typeof A>"u"||typeof A=="object"))try{var L=c.call(A);return(L===p||L===_||L===M||L===l)&&A("")==null}catch{}return!1})}return Qs=t?function(A){if(P(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;try{t(A,null,r)}catch(L){if(L!==n)return!1}return!s(A)&&o(A)}:function(A){if(P(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;if(O)return o(A);if(s(A))return!1;var L=c.call(A);return L!==h&&L!==d&&!/^\[object HTML/.test(L)?!1:o(A)},Qs}var Ys,ic;function z0(){if(ic)return Ys;ic=1;var e=V0(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,h,d){for(var p=0,_=l.length;p<_;p++)r.call(l,p)&&(d==null?h(l[p],p,l):h.call(d,l[p],p,l))},i=function(l,h,d){for(var p=0,_=l.length;p<_;p++)d==null?h(l.charAt(p),p,l):h.call(d,l.charAt(p),p,l)},s=function(l,h,d){for(var p in l)r.call(l,p)&&(d==null?h(l[p],p,l):h.call(d,l[p],p,l))};function o(c){return t.call(c)==="[object Array]"}return Ys=function(l,h,d){if(!e(h))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=d),o(l)?n(l,h,p):typeof l=="string"?i(l,h,p):s(l,h,p)},Ys}var Xs,sc;function G0(){return sc||(sc=1,Xs=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Xs}var eo,oc;function J0(){if(oc)return eo;oc=1;var e=G0(),t=typeof globalThis>"u"?G:globalThis;return eo=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},eo}var to={exports:{}},ro,ac;function Z0(){if(ac)return ro;ac=1;var e=Ki,t=Pu,r=Fn,n=Dn;return ro=function(s,o,c){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,_=!!n&&n(s,o);if(e)e(s,o,{configurable:d===null&&_?_.configurable:!d,enumerable:l===null&&_?_.enumerable:!l,value:c,writable:h===null&&_?_.writable:!h});else if(p||!l&&!h&&!d)s[o]=c;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ro}var no,cc;function K0(){if(cc)return no;cc=1;var e=Ki,t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},no=t,no}var io,lc;function Q0(){if(lc)return io;lc=1;var e=ju,t=Z0(),r=K0()(),n=Dn,i=Fn,s=e("%Math.floor%");return io=function(c,l){if(typeof c!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],d=!0,p=!0;if("length"in c&&n){var _=n(c,"length");_&&!_.configurable&&(d=!1),_&&!_.writable&&(p=!1)}return(d||p||!h)&&(r?t(c,"length",l,!0,!0):t(c,"length",l)),c},io}var so,uc;function Y0(){if(uc)return so;uc=1;var e=jn,t=aa,r=Bu;return so=function(){return r(e,t,arguments)},so}var hc;function X0(){return hc||(hc=1,function(e){var t=Q0(),r=Ki,n=ca,i=Y0();e.exports=function(o){var c=n(arguments),l=o.length-(arguments.length-1);return t(c,1+(l>0?l:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i}(to)),to.exports}var oo,fc;function ep(){if(fc)return oo;fc=1;var e=Nu();return oo=function(){return e()&&!!Symbol.toStringTag},oo}var ao,dc;function tp(){if(dc)return ao;dc=1;var e=z0(),t=J0(),r=X0(),n=Wu,i=Dn,s=$u(),o=n("Object.prototype.toString"),c=ep()(),l=typeof globalThis>"u"?G:globalThis,h=t(),d=n("String.prototype.slice"),p=n("Array.prototype.indexOf",!0)||function(P,b){for(var k=0;k<P.length;k+=1)if(P[k]===b)return k;return-1},_={__proto__:null};c&&i&&s?e(h,function(T){var P=new l[T];if(Symbol.toStringTag in P&&s){var b=s(P),k=i(b,Symbol.toStringTag);if(!k&&b){var A=s(b);k=i(A,Symbol.toStringTag)}_["$"+T]=r(k.get)}}):e(h,function(T){var P=new l[T],b=P.slice||P.set;b&&(_["$"+T]=r(b))});var M=function(P){var b=!1;return e(_,function(k,A){if(!b)try{"$"+k(P)===A&&(b=d(A,1))}catch{}}),b},O=function(P){var b=!1;return e(_,function(k,A){if(!b)try{k(P),b=d(A,1)}catch{}}),b};return ao=function(P){if(!P||typeof P!="object")return!1;if(!c){var b=d(o(P),8,-1);return p(h,b)>-1?b:b!=="Object"?!1:O(P)}return i?M(P):null},ao}var co,pc;function rp(){if(pc)return co;pc=1;var e=tp();return co=function(r){return!!e(r)},co}var np=Fn,ip=Wu,sp=ip("TypedArray.prototype.buffer",!0),op=rp(),ap=sp||function(t){if(!op(t))throw new np("Not a Typed Array");return t.buffer},Ct=jt.Buffer,cp=Ld,lp=ap,up=ArrayBuffer.isView||function(t){try{return lp(t),!0}catch{return!1}},hp=typeof Uint8Array<"u",qu=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",fp=qu&&(Ct.prototype instanceof Uint8Array||Ct.TYPED_ARRAY_SUPPORT),dp=function(t,r){if(t instanceof Ct)return t;if(typeof t=="string")return Ct.from(t,r);if(qu&&up(t)){if(t.byteLength===0)return Ct.alloc(0);if(fp){var n=Ct.from(t.buffer,t.byteOffset,t.byteLength);if(n.byteLength===t.byteLength)return n}var i=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),s=Ct.from(i);if(s.length===t.byteLength)return s}if(hp&&t instanceof Uint8Array)return Ct.from(t);var o=cp(t);if(o)for(var c=0;c<t.length;c+=1){var l=t[c];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(o||Ct.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return Ct.from(t);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},pp=jt.Buffer,gp=dp;function Qi(e,t){this._block=pp.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Qi.prototype.update=function(e,t){e=gp(e,t||"utf8");for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var c=s%n,l=Math.min(i-o,n-c),h=0;h<l;h++)r[c+h]=e[o+h];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this};Qi.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};Qi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var gn=Qi,_p=bt,Vu=gn,yp=jt.Buffer,mp=[1518500249,1859775393,-1894007588,-899497514],vp=new Array(80);function Wn(){this.init(),this._w=vp,Vu.call(this,64,56)}_p(Wn,Vu);Wn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function bp(e){return e<<5|e>>>27}function wp(e){return e<<30|e>>>2}function Ep(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Wn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=0;c<16;++c)t[c]=e.readInt32BE(c*4);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var l=0;l<80;++l){var h=~~(l/20),d=bp(r)+Ep(h,n,i,s)+o+t[l]+mp[h]|0;o=s,s=i,i=wp(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Wn.prototype._hash=function(){var e=yp.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Sp=Wn,Rp=bt,zu=gn,Mp=jt.Buffer,Cp=[1518500249,1859775393,-1894007588,-899497514],kp=new Array(80);function qn(){this.init(),this._w=kp,zu.call(this,64,56)}Rp(qn,zu);qn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Ap(e){return e<<1|e>>>31}function Ip(e){return e<<5|e>>>27}function xp(e){return e<<30|e>>>2}function Tp(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}qn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=0;c<16;++c)t[c]=e.readInt32BE(c*4);for(;c<80;++c)t[c]=Ap(t[c-3]^t[c-8]^t[c-14]^t[c-16]);for(var l=0;l<80;++l){var h=~~(l/20),d=Ip(r)+Tp(h,n,i,s)+o+t[l]+Cp[h]|0;o=s,s=i,i=xp(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};qn.prototype._hash=function(){var e=Mp.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Pp=qn,Np=bt,Gu=gn,Op=jt.Buffer,Lp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Bp=new Array(64);function Vn(){this.init(),this._w=Bp,Gu.call(this,64,56)}Np(Vn,Gu);Vn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function $p(e,t,r){return r^e&(t^r)}function Fp(e,t,r){return e&t|r&(e|t)}function Dp(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function jp(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Up(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function Hp(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Vn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=this._f|0,l=this._g|0,h=this._h|0,d=0;d<16;++d)t[d]=e.readInt32BE(d*4);for(;d<64;++d)t[d]=Hp(t[d-2])+t[d-7]+Up(t[d-15])+t[d-16]|0;for(var p=0;p<64;++p){var _=h+jp(o)+$p(o,c,l)+Lp[p]+t[p]|0,M=Dp(r)+Fp(r,n,i)|0;h=l,l=c,c=o,o=s+_|0,s=i,i=n,n=r,r=_+M|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};Vn.prototype._hash=function(){var e=Op.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Ju=Vn,Wp=bt,qp=Ju,Vp=gn,zp=jt.Buffer,Gp=new Array(64);function Yi(){this.init(),this._w=Gp,Vp.call(this,64,56)}Wp(Yi,qp);Yi.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Yi.prototype._hash=function(){var e=zp.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Jp=Yi,Zp=bt,Zu=gn,Kp=jt.Buffer,gc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Qp=new Array(160);function zn(){this.init(),this._w=Qp,Zu.call(this,128,112)}Zp(zn,Zu);zn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function _c(e,t,r){return r^e&(t^r)}function yc(e,t,r){return e&t|r&(e|t)}function mc(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function vc(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Yp(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Xp(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function e1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function t1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Ke(e,t){return e>>>0<t>>>0?1:0}zn.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,c=this._fh|0,l=this._gh|0,h=this._hh|0,d=this._al|0,p=this._bl|0,_=this._cl|0,M=this._dl|0,O=this._el|0,T=this._fl|0,P=this._gl|0,b=this._hl|0,k=0;k<32;k+=2)t[k]=e.readInt32BE(k*4),t[k+1]=e.readInt32BE(k*4+4);for(;k<160;k+=2){var A=t[k-30],L=t[k-15*2+1],B=Yp(A,L),F=Xp(L,A);A=t[k-2*2],L=t[k-2*2+1];var J=e1(A,L),V=t1(L,A),W=t[k-7*2],te=t[k-7*2+1],Z=t[k-16*2],X=t[k-16*2+1],C=F+te|0,a=B+W+Ke(C,F)|0;C=C+V|0,a=a+J+Ke(C,V)|0,C=C+X|0,a=a+Z+Ke(C,X)|0,t[k]=a,t[k+1]=C}for(var f=0;f<160;f+=2){a=t[f],C=t[f+1];var g=yc(r,n,i),y=yc(d,p,_),v=mc(r,d),R=mc(d,r),x=vc(o,O),m=vc(O,o),u=gc[f],w=gc[f+1],q=_c(o,c,l),U=_c(O,T,P),I=b+m|0,N=h+x+Ke(I,b)|0;I=I+U|0,N=N+q+Ke(I,U)|0,I=I+w|0,N=N+u+Ke(I,w)|0,I=I+C|0,N=N+a+Ke(I,C)|0;var $=R+y|0,H=v+g+Ke($,R)|0;h=l,b=P,l=c,P=T,c=o,T=O,O=M+I|0,o=s+N+Ke(O,M)|0,s=i,M=_,i=n,_=p,n=r,p=d,d=I+$|0,r=N+H+Ke(d,I)|0}this._al=this._al+d|0,this._bl=this._bl+p|0,this._cl=this._cl+_|0,this._dl=this._dl+M|0,this._el=this._el+O|0,this._fl=this._fl+T|0,this._gl=this._gl+P|0,this._hl=this._hl+b|0,this._ah=this._ah+r+Ke(this._al,d)|0,this._bh=this._bh+n+Ke(this._bl,p)|0,this._ch=this._ch+i+Ke(this._cl,_)|0,this._dh=this._dh+s+Ke(this._dl,M)|0,this._eh=this._eh+o+Ke(this._el,O)|0,this._fh=this._fh+c+Ke(this._fl,T)|0,this._gh=this._gh+l+Ke(this._gl,P)|0,this._hh=this._hh+h+Ke(this._hl,b)|0};zn.prototype._hash=function(){var e=Kp.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Ku=zn,r1=bt,n1=Ku,i1=gn,s1=jt.Buffer,o1=new Array(160);function Xi(){this.init(),this._w=o1,i1.call(this,128,112)}r1(Xi,n1);Xi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Xi.prototype._hash=function(){var e=s1.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var a1=Xi;(function(e){e.exports=function(r){var n=r.toLowerCase(),i=e.exports[n];if(!i)throw new Error(n+" is not supported (we accept pull requests)");return new i},e.exports.sha=Sp,e.exports.sha1=Pp,e.exports.sha224=Jp,e.exports.sha256=Ju,e.exports.sha384=a1,e.exports.sha512=Ku})(xu);var c1=xu.exports;Object.defineProperty(pn,"__esModule",{value:!0});pn.Session=void 0;const bc=c1,wc=z,Ec="session:id",Sc="session:secret",Rc="session:linked";class la{constructor(t,r,n,i){this._storage=t,this._id=r||(0,wc.randomBytesHex)(16),this._secret=n||(0,wc.randomBytesHex)(32),this._key=new bc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const r=t.getItem(Ec),n=t.getItem(Rc),i=t.getItem(Sc);return r&&i?new la(t,r,i,n==="1"):null}static hash(t){return new bc.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Ec,this._id),this._storage.setItem(Sc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Rc,this._linked?"1":"0")}}pn.Session=la;var es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.Cipher=void 0;const fi=z;class l1{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,fi.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(t)),c=16,l=o.slice(o.byteLength-c),h=o.slice(0,o.byteLength-c),d=new Uint8Array(l),p=new Uint8Array(h),_=new Uint8Array([...n,...d,...p]);return(0,fi.uint8ArrayToHex)(_)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,fi.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,fi.hexStringToUint8Array)(t),c=o.slice(0,12),l=o.slice(12,28),h=o.slice(28),d=new Uint8Array([...h,...l]),p={name:"AES-GCM",iv:new Uint8Array(c)};try{const _=await window.crypto.subtle.decrypt(p,s,d),M=new TextDecoder;n(M.decode(_))}catch(_){i(_)}})()})}}ts.Cipher=l1;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.WalletLinkHTTP=void 0;class u1{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>{})}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(t=n?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}rs.WalletLinkHTTP=u1;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.WalletLinkWebSocket=tn.ConnectionState=void 0;var zr;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(zr||(tn.ConnectionState=zr={}));class h1{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,zr.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,zr.DISCONNECTED)},i.onopen=s=>{var o;t(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,zr.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,c;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,l)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,zr.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}tn.WalletLinkWebSocket=h1;Object.defineProperty(es,"__esModule",{value:!0});es.WalletLinkConnection=void 0;const Dr=Je,f1=ts,St=dn,Mc=pt,jr=pn,d1=rs,di=tn,Cc=1e4,p1=6e4;class g1{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Dr.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=c=>{if(!c)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",h=>c.JsonRpcUrl&&this.handleChainUpdated(h,c.JsonRpcUrl)]]).forEach((h,d)=>{const p=c[d];p!==void 0&&h(p)})},this.handleDestroyed=c=>{var l,h;c==="1"&&((l=this.listener)===null||l===void 0||l.resetAndReload(),(h=this.diagnostic)===null||h===void 0||h.log(St.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:jr.Session.hash(this.session.id)}))},this.handleAccountUpdated=async c=>{var l,h;try{const d=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.accountUpdated(d)}catch{(h=this.diagnostic)===null||h===void 0||h.log(St.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(c,l)=>{var h,d;try{const p=await this.cipher.decrypt(l);(h=this.listener)===null||h===void 0||h.metadataUpdated(c,p)}catch{(d=this.diagnostic)===null||d===void 0||d.log(St.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:c})}},this.handleWalletUsernameUpdated=async c=>{this.handleMetadataUpdated(Mc.WALLET_USER_NAME_KEY,c)},this.handleAppVersionUpdated=async c=>{this.handleMetadataUpdated(Mc.APP_VERSION_KEY,c)},this.handleChainUpdated=async(c,l)=>{var h,d;try{const p=await this.cipher.decrypt(c),_=await this.cipher.decrypt(l);(h=this.listener)===null||h===void 0||h.chainUpdated(p,_)}catch{(d=this.diagnostic)===null||d===void 0||d.log(St.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new f1.Cipher(t.secret),this.diagnostic=i,this.listener=n;const o=new di.WalletLinkWebSocket(`${r}/rpc`,s);o.setConnectionStateListener(async c=>{var l;(l=this.diagnostic)===null||l===void 0||l.log(St.EVENTS.CONNECTED_STATE_CHANGE,{state:c,sessionIdHash:jr.Session.hash(t.id)});let h=!1;switch(c){case di.ConnectionState.DISCONNECTED:if(!this.destroyed){const d=async()=>{await new Promise(p=>setTimeout(p,5e3)),this.destroyed||o.connect().catch(()=>{d()})};d()}break;case di.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),h=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Cc),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case di.ConnectionState.CONNECTING:break}this.connected!==h&&(this.connected=h)}),o.setIncomingDataListener(c=>{var l,h,d;switch(c.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const p=c.type==="IsLinkedOK"?c.linked:void 0;(l=this.diagnostic)===null||l===void 0||l.log(St.EVENTS.LINKED,{sessionIdHash:jr.Session.hash(t.id),linked:p,type:c.type,onlineGuests:c.onlineGuests}),this.linked=p||c.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(h=this.diagnostic)===null||h===void 0||h.log(St.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:jr.Session.hash(t.id),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.handleSessionMetadataUpdated(c.metadata);break}case"Event":{this.handleIncomingEvent(c);break}}c.id!==void 0&&((d=this.requestResolutions.get(c.id))===null||d===void 0||d(c))}),this.ws=o,this.http=new d1.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(St.EVENTS.STARTED_CONNECTING,{sessionIdHash:jr.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(St.EVENTS.DISCONNECTED,{sessionIdHash:jr.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const i=await this.cipher.decrypt(t.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s)}catch{(n=this.diagnostic)===null||n===void 0||n.log(St.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch{}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Cc*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=p1){const n=t.id;this.sendData(t);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,Dr.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}es.WalletLinkConnection=g1;var Gn={},Jn={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var _1=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.injectCssReset=void 0;const y1=_1(ua);function m1(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(y1.default)),document.documentElement.appendChild(e)}Jn.injectCssReset=m1;var ns={},Zn,_e,Qu,Yu,fr,kc,Xu,eh,th,ha,Uo,Ho,rh,An={},nh=[],v1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kn=Array.isArray;function xt(e,t){for(var r in t)e[r]=t[r];return e}function fa(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Wo(e,t,r){var n,i,s,o={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?Zn.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return Sn(e,o,n,i,null)}function Sn(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Qu,__i:-1,__u:0};return i==null&&_e.vnode!=null&&_e.vnode(s),s}function b1(){return{current:null}}function Qn(e){return e.children}function Rn(e,t){this.props=e,this.context=t}function rn(e,t){if(t==null)return e.__?rn(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?rn(e):null}function ih(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ih(e)}}function qo(e){(!e.__d&&(e.__d=!0)&&fr.push(e)&&!Li.__r++||kc!=_e.debounceRendering)&&((kc=_e.debounceRendering)||Xu)(Li)}function Li(){for(var e,t,r,n,i,s,o,c=1;fr.length;)fr.length>c&&fr.sort(eh),e=fr.shift(),c=fr.length,e.__d&&(r=void 0,i=(n=(t=e).__v).__e,s=[],o=[],t.__P&&((r=xt({},n)).__v=n.__v+1,_e.vnode&&_e.vnode(r),da(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,s,i??rn(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,ch(s,r,o),r.__e!=i&&ih(r)));Li.__r=0}function sh(e,t,r,n,i,s,o,c,l,h,d){var p,_,M,O,T,P,b,k=n&&n.__k||nh,A=t.length;for(l=w1(r,t,k,l,A),p=0;p<A;p++)(M=r.__k[p])!=null&&(_=M.__i==-1?An:k[M.__i]||An,M.__i=p,P=da(e,M,_,i,s,o,c,l,h,d),O=M.__e,M.ref&&_.ref!=M.ref&&(_.ref&&pa(_.ref,null,M),d.push(M.ref,M.__c||O,M)),T==null&&O!=null&&(T=O),(b=!!(4&M.__u))||_.__k===M.__k?l=oh(M,l,e,b):typeof M.type=="function"&&P!==void 0?l=P:O&&(l=O.nextSibling),M.__u&=-7);return r.__e=T,l}function w1(e,t,r,n,i){var s,o,c,l,h,d=r.length,p=d,_=0;for(e.__k=new Array(i),s=0;s<i;s++)(o=t[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+_,(o=e.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Sn(null,o,null,null,null):Kn(o)?Sn(Qn,{children:o},null,null,null):o.constructor==null&&o.__b>0?Sn(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,c=null,(h=o.__i=E1(o,r,l,p))!=-1&&(p--,(c=r[h])&&(c.__u|=2)),c==null||c.__v==null?(h==-1&&(i>d?_--:i<d&&_++),typeof o.type!="function"&&(o.__u|=4)):h!=l&&(h==l-1?_--:h==l+1?_++:(h>l?_--:_++,o.__u|=4))):e.__k[s]=null;if(p)for(s=0;s<d;s++)(c=r[s])!=null&&!(2&c.__u)&&(c.__e==n&&(n=rn(c)),uh(c,c));return n}function oh(e,t,r,n){var i,s;if(typeof e.type=="function"){for(i=e.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=e,t=oh(i[s],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=rn(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ah(e,t){return t=t||[],e==null||typeof e=="boolean"||(Kn(e)?e.some(function(r){ah(r,t)}):t.push(e)),t}function E1(e,t,r,n){var i,s,o,c=e.key,l=e.type,h=t[r],d=h!=null&&(2&h.__u)==0;if(h===null&&e.key==null||d&&c==h.key&&l==h.type)return r;if(n>(d?1:0)){for(i=r-1,s=r+1;i>=0||s<t.length;)if((h=t[o=i>=0?i--:s++])!=null&&!(2&h.__u)&&c==h.key&&l==h.type)return o}return-1}function Ac(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||v1.test(t)?r:r+"px"}function pi(e,t,r,n,i){var s,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||Ac(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||Ac(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(th,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=ha,e.addEventListener(t,s?Ho:Uo,s)):e.removeEventListener(t,s?Ho:Uo,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function Ic(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ha++;else if(t.t<r.u)return;return r(_e.event?_e.event(t):t)}}}function da(e,t,r,n,i,s,o,c,l,h){var d,p,_,M,O,T,P,b,k,A,L,B,F,J,V,W,te,Z=t.type;if(t.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[c=t.__e=r.__e]),(d=_e.__b)&&d(t);e:if(typeof Z=="function")try{if(b=t.props,k="prototype"in Z&&Z.prototype.render,A=(d=Z.contextType)&&n[d.__c],L=d?A?A.props.value:d.__:n,r.__c?P=(p=t.__c=r.__c).__=p.__E:(k?t.__c=p=new Z(b,L):(t.__c=p=new Rn(b,L),p.constructor=Z,p.render=R1),A&&A.sub(p),p.props=b,p.state||(p.state={}),p.context=L,p.__n=n,_=p.__d=!0,p.__h=[],p._sb=[]),k&&p.__s==null&&(p.__s=p.state),k&&Z.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=xt({},p.__s)),xt(p.__s,Z.getDerivedStateFromProps(b,p.__s))),M=p.props,O=p.state,p.__v=t,_)k&&Z.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),k&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(k&&Z.getDerivedStateFromProps==null&&b!==M&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,L),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,L)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(p.props=b,p.state=p.__s,p.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(X){X&&(X.__=t)}),B=0;B<p._sb.length;B++)p.__h.push(p._sb[B]);p._sb=[],p.__h.length&&o.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,L),k&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(M,O,T)})}if(p.context=L,p.props=b,p.__P=e,p.__e=!1,F=_e.__r,J=0,k){for(p.state=p.__s,p.__d=!1,F&&F(t),d=p.render(p.props,p.state,p.context),V=0;V<p._sb.length;V++)p.__h.push(p._sb[V]);p._sb=[]}else do p.__d=!1,F&&F(t),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++J<25);p.state=p.__s,p.getChildContext!=null&&(n=xt(xt({},n),p.getChildContext())),k&&!_&&p.getSnapshotBeforeUpdate!=null&&(T=p.getSnapshotBeforeUpdate(M,O)),W=d,d!=null&&d.type===Qn&&d.key==null&&(W=lh(d.props.children)),c=sh(e,Kn(W)?W:[W],t,r,n,i,s,o,c,l,h),p.base=t.__e,t.__u&=-161,p.__h.length&&o.push(p),P&&(p.__E=p.__=null)}catch(X){if(t.__v=null,l||s!=null)if(X.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,t.__e=c}else{for(te=s.length;te--;)fa(s[te]);Vo(t)}else t.__e=r.__e,t.__k=r.__k,X.then||Vo(t);_e.__e(X,t,r)}else s==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):c=t.__e=S1(r.__e,t,r,n,i,s,o,l,h);return(d=_e.diffed)&&d(t),128&t.__u?void 0:c}function Vo(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Vo)}function ch(e,t,r){for(var n=0;n<r.length;n++)pa(r[n],r[++n],r[++n]);_e.__c&&_e.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){_e.__e(s,i.__v)}})}function lh(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Kn(e)?e.map(lh):xt({},e)}function S1(e,t,r,n,i,s,o,c,l){var h,d,p,_,M,O,T,P=r.props,b=t.props,k=t.type;if(k=="svg"?i="http://www.w3.org/2000/svg":k=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((M=s[h])&&"setAttribute"in M==!!k&&(k?M.localName==k:M.nodeType==3)){e=M,s[h]=null;break}}if(e==null){if(k==null)return document.createTextNode(b);e=document.createElementNS(i,k,b.is&&b),c&&(_e.__m&&_e.__m(t,s),c=!1),s=null}if(k==null)P===b||c&&e.data==b||(e.data=b);else{if(s=s&&Zn.call(e.childNodes),P=r.props||An,!c&&s!=null)for(P={},h=0;h<e.attributes.length;h++)P[(M=e.attributes[h]).name]=M.value;for(h in P)if(M=P[h],h!="children"){if(h=="dangerouslySetInnerHTML")p=M;else if(!(h in b)){if(h=="value"&&"defaultValue"in b||h=="checked"&&"defaultChecked"in b)continue;pi(e,h,null,M,i)}}for(h in b)M=b[h],h=="children"?_=M:h=="dangerouslySetInnerHTML"?d=M:h=="value"?O=M:h=="checked"?T=M:c&&typeof M!="function"||P[h]===M||pi(e,h,M,P[h],i);if(d)c||p&&(d.__html==p.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(p&&(e.innerHTML=""),sh(t.type=="template"?e.content:e,Kn(_)?_:[_],t,r,n,k=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&rn(r,0),c,l),s!=null)for(h=s.length;h--;)fa(s[h]);c||(h="value",k=="progress"&&O==null?e.removeAttribute("value"):O!=null&&(O!==e[h]||k=="progress"&&!O||k=="option"&&O!=P[h])&&pi(e,h,O,P[h],i),h="checked",T!=null&&T!=e[h]&&pi(e,h,T,P[h],i))}return e}function pa(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){_e.__e(i,r)}}function uh(e,t,r){var n,i;if(_e.unmount&&_e.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||pa(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){_e.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&uh(n[i],t,r||typeof e.type!="function");r||fa(e.__e),e.__c=e.__=e.__e=void 0}function R1(e,t,r){return this.constructor(e,r)}function hh(e,t,r){var n,i,s,o;t==document&&(t=document.documentElement),_e.__&&_e.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,s=[],o=[],da(t,e=(!n&&r||t).__k=Wo(Qn,null,[e]),i||An,An,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?Zn.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,o),ch(s,e,o)}function fh(e,t){hh(e,t,fh)}function M1(e,t,r){var n,i,s,o,c=xt({},e.props);for(s in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)s=="key"?n=t[s]:s=="ref"?i=t[s]:c[s]=t[s]===void 0&&o!=null?o[s]:t[s];return arguments.length>2&&(c.children=arguments.length>3?Zn.call(arguments,2):r),Sn(e.type,c,n||e.key,i||e.ref,null)}function C1(e){function t(r){var n,i;return this.getChildContext||(n=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&n.forEach(function(o){o.__e=!0,qo(o)})},this.sub=function(s){n.add(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){n&&n.delete(s),o&&o.call(s)}}),r.children}return t.__c="__cC"+rh++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}Zn=nh.slice,_e={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(c){e=c}throw e}},Qu=0,Yu=function(e){return e!=null&&e.constructor==null},Rn.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=xt({},this.state),typeof e=="function"&&(e=e(xt({},r),this.props)),e&&xt(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),qo(this))},Rn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),qo(this))},Rn.prototype.render=Qn,fr=[],Xu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eh=function(e,t){return e.__v.__b-t.__v.__b},Li.__r=0,th=/(PointerCapture)$|Capture$/i,ha=0,Uo=Ic(!1),Ho=Ic(!0),rh=0;const k1=Object.freeze(Object.defineProperty({__proto__:null,Component:Rn,Fragment:Qn,cloneElement:M1,createContext:C1,createElement:Wo,createRef:b1,h:Wo,hydrate:fh,get isValidElement(){return Yu},get options(){return _e},render:hh,toChildArray:ah},Symbol.toStringTag,{value:"Module"})),st=un(k1);var is={};const Yn=un(Kf);var Ft,pe,lo,xc,nn=0,dh=[],qe=_e,Tc=qe.__b,Pc=qe.__r,Nc=qe.diffed,Oc=qe.__c,Lc=qe.unmount,Bc=qe.__;function Er(e,t){qe.__h&&qe.__h(pe,e,nn||t),nn=0;var r=pe.__H||(pe.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function ph(e){return nn=1,gh(yh,e)}function gh(e,t,r){var n=Er(Ft++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):yh(void 0,t),function(c){var l=n.__N?n.__N[0]:n.__[0],h=n.t(l,c);l!==h&&(n.__N=[h,n.__[1]],n.__c.setState({}))}],n.__c=pe,!pe.__f)){var i=function(c,l,h){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(_){return!!_.__c});if(d.every(function(_){return!_.__N}))return!s||s.call(this,c,l,h);var p=n.__c.props!==c;return d.forEach(function(_){if(_.__N){var M=_.__[0];_.__=_.__N,_.__N=void 0,M!==_.__[0]&&(p=!0)}}),s&&s.call(this,c,l,h)||p};pe.__f=!0;var s=pe.shouldComponentUpdate,o=pe.componentWillUpdate;pe.componentWillUpdate=function(c,l,h){if(this.__e){var d=s;s=void 0,i(c,l,h),s=d}o&&o.call(this,c,l,h)},pe.shouldComponentUpdate=i}return n.__N||n.__}function A1(e,t){var r=Er(Ft++,3);!qe.__s&&_a(r.__H,t)&&(r.__=e,r.u=t,pe.__H.__h.push(r))}function _h(e,t){var r=Er(Ft++,4);!qe.__s&&_a(r.__H,t)&&(r.__=e,r.u=t,pe.__h.push(r))}function I1(e){return nn=5,ga(function(){return{current:e}},[])}function x1(e,t,r){nn=6,_h(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function ga(e,t){var r=Er(Ft++,7);return _a(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function T1(e,t){return nn=8,ga(function(){return e},t)}function P1(e){var t=pe.context[e.__c],r=Er(Ft++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(pe)),t.props.value):e.__}function N1(e,t){qe.useDebugValue&&qe.useDebugValue(t?t(e):e)}function O1(e){var t=Er(Ft++,10),r=ph();return t.__=e,pe.componentDidCatch||(pe.componentDidCatch=function(n,i){t.__&&t.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function L1(){var e=Er(Ft++,11);if(!e.__){for(var t=pe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function B1(){for(var e;e=dh.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ai),e.__H.__h.forEach(zo),e.__H.__h=[]}catch(t){e.__H.__h=[],qe.__e(t,e.__v)}}qe.__b=function(e){pe=null,Tc&&Tc(e)},qe.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Bc&&Bc(e,t)},qe.__r=function(e){Pc&&Pc(e),Ft=0;var t=(pe=e.__c).__H;t&&(lo===pe?(t.__h=[],pe.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(Ai),t.__h.forEach(zo),t.__h=[],Ft=0)),lo=pe},qe.diffed=function(e){Nc&&Nc(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(dh.push(t)!==1&&xc===qe.requestAnimationFrame||((xc=qe.requestAnimationFrame)||$1)(B1)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),lo=pe=null},qe.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Ai),r.__h=r.__h.filter(function(n){return!n.__||zo(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],qe.__e(n,r.__v)}}),Oc&&Oc(e,t)},qe.unmount=function(e){Lc&&Lc(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ai(n)}catch(i){t=i}}),r.__H=void 0,t&&qe.__e(t,r.__v))};var $c=typeof requestAnimationFrame=="function";function $1(e){var t,r=function(){clearTimeout(n),$c&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);$c&&(t=requestAnimationFrame(r))}function Ai(e){var t=pe,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),pe=t}function zo(e){var t=pe;e.__c=e.__(),pe=t}function _a(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function yh(e,t){return typeof t=="function"?t(e):t}const F1=Object.freeze(Object.defineProperty({__proto__:null,useCallback:T1,useContext:P1,useDebugValue:N1,useEffect:A1,useErrorBoundary:O1,useId:L1,useImperativeHandle:x1,useLayoutEffect:_h,useMemo:ga,useReducer:gh,useRef:I1,useState:ph},Symbol.toStringTag,{value:"Module"})),ss=un(F1);var sn={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.CloseIcon=void 0;const Fc=st;function D1(e){return(0,Fc.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Fc.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}os.CloseIcon=D1;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.CoinbaseWalletRound=void 0;const gi=st;function j1(e){return(0,gi.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,gi.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,gi.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,gi.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}as.CoinbaseWalletRound=j1;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.QRCodeIcon=void 0;const bn=st;function U1(e){return(0,bn.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,bn.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,bn.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,bn.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,bn.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}cs.QRCodeIcon=U1;var ls={};function mh(e){this.mode=lt.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}mh.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Tt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Tt.prototype={addData:function(e){var t=new mh(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Tt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=We.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,c=0;c<this.modules[s].length;c++){var l=c*i,h=this.modules[s][c];h&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+i,o),n.lineTo(l+i,o+i),n.lineTo(l,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=We.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(e){for(var t=We.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=We.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var c=0;c<2;c++)if(this.modules[n][o-c]==null){var l=!1;s<e.length&&(l=(e[s]>>>i&1)==1);var h=We.getMask(t,n,o-c);h&&(l=!l),this.modules[n][o-c]=l,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Tt.PAD0=236;Tt.PAD1=17;Tt.createData=function(e,t,r){for(var n=It.getRSBlocks(e,t),i=new vh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),We.getLengthInBits(o.mode,e)),o.write(i)}for(var c=0,s=0;s<n.length;s++)c+=n[s].dataCount;if(i.getLengthInBits()>c*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+c*8+")");for(i.getLengthInBits()+4<=c*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=c*8||(i.put(Tt.PAD0,8),i.getLengthInBits()>=c*8));)i.put(Tt.PAD1,8);return Tt.createBytes(i,n)};Tt.createBytes=function(e,t){for(var r=0,n=0,i=0,s=new Array(t.length),o=new Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,h=t[c].totalCount-l;n=Math.max(n,l),i=Math.max(i,h),s[c]=new Array(l);for(var d=0;d<s[c].length;d++)s[c][d]=255&e.buffer[d+r];r+=l;var p=We.getErrorCorrectPolynomial(h),_=new Jr(s[c],p.getLength()-1),M=_.mod(p);o[c]=new Array(p.getLength()-1);for(var d=0;d<o[c].length;d++){var O=d+M.getLength()-o[c].length;o[c][d]=O>=0?M.get(O):0}}for(var T=0,d=0;d<t.length;d++)T+=t[d].totalCount;for(var P=new Array(T),b=0,d=0;d<n;d++)for(var c=0;c<t.length;c++)d<s[c].length&&(P[b++]=s[c][d]);for(var d=0;d<i;d++)for(var c=0;c<t.length;c++)d<o[c].length&&(P[b++]=o[c][d]);return P};var lt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Vt={L:1,M:0,Q:3,H:2},Ht={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},We={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;We.getBCHDigit(t)-We.getBCHDigit(We.G15)>=0;)t^=We.G15<<We.getBCHDigit(t)-We.getBCHDigit(We.G15);return(e<<10|t)^We.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;We.getBCHDigit(t)-We.getBCHDigit(We.G18)>=0;)t^=We.G18<<We.getBCHDigit(t)-We.getBCHDigit(We.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return We.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Ht.PATTERN000:return(t+r)%2==0;case Ht.PATTERN001:return t%2==0;case Ht.PATTERN010:return r%3==0;case Ht.PATTERN011:return(t+r)%3==0;case Ht.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Ht.PATTERN101:return t*r%2+t*r%3==0;case Ht.PATTERN110:return(t*r%2+t*r%3)%2==0;case Ht.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Jr([1],0),r=0;r<e;r++)t=t.multiply(new Jr([1,Ye.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case lt.MODE_NUMBER:return 10;case lt.MODE_ALPHA_NUM:return 9;case lt.MODE_8BIT_BYTE:return 8;case lt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case lt.MODE_NUMBER:return 12;case lt.MODE_ALPHA_NUM:return 11;case lt.MODE_8BIT_BYTE:return 16;case lt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case lt.MODE_NUMBER:return 14;case lt.MODE_ALPHA_NUM:return 13;case lt.MODE_8BIT_BYTE:return 16;case lt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(n,i),c=-1;c<=1;c++)if(!(n+c<0||t<=n+c))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||c==0&&l==0||o==e.isDark(n+c,i+l)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var h=0;e.isDark(n,i)&&h++,e.isDark(n+1,i)&&h++,e.isDark(n,i+1)&&h++,e.isDark(n+1,i+1)&&h++,(h==0||h==4)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&d++;var p=Math.abs(100*d/t/t-50)/5;return r+=p*10,r}},Ye={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ye.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ye.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var et=0;et<8;et++)Ye.EXP_TABLE[et]=1<<et;for(var et=8;et<256;et++)Ye.EXP_TABLE[et]=Ye.EXP_TABLE[et-4]^Ye.EXP_TABLE[et-5]^Ye.EXP_TABLE[et-6]^Ye.EXP_TABLE[et-8];for(var et=0;et<255;et++)Ye.LOG_TABLE[Ye.EXP_TABLE[et]]=et;function Jr(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Jr.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=Ye.gexp(Ye.glog(this.get(r))+Ye.glog(e.get(n)));return new Jr(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ye.glog(this.get(0))-Ye.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=Ye.gexp(Ye.glog(e.get(n))+t);return new Jr(r,0).mod(e)}};function It(e,t){this.totalCount=e,this.dataCount=t}It.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];It.getRSBlocks=function(e,t){var r=It.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],c=r[s*3+1],l=r[s*3+2],h=0;h<o;h++)i.push(new It(c,l));return i};It.getRsBlockTable=function(e,t){switch(t){case Vt.L:return It.RS_BLOCK_TABLE[(e-1)*4+0];case Vt.M:return It.RS_BLOCK_TABLE[(e-1)*4+1];case Vt.Q:return It.RS_BLOCK_TABLE[(e-1)*4+2];case Vt.H:return It.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function vh(){this.buffer=[],this.length=0}vh.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var uo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bh(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,h){for(var d=i(l),p=1,_=0,M=0,O=uo.length;M<=O;M++){var T=uo[M];if(!T)throw new Error("Content too long: expected "+_+" but got "+d);switch(h){case"L":_=T[0];break;case"M":_=T[1];break;case"Q":_=T[2];break;case"H":_=T[3];break;default:throw new Error("Unknwon error correction level: "+h)}if(d<=_)break;p++}if(p>uo.length)throw new Error("Content too long");return p}function i(l){var h=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return h.length+(h.length!=l?3:0)}var s=this.options.content,o=n(s,this.options.ecl),c=r(this.options.ecl);this.qrcode=new Tt(o,c),this.qrcode.addData(s),this.qrcode.make()}bh.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=t.width,c=t.height,l=r.length,h=o/(l+2*t.padding),d=c/(l+2*t.padding),p=typeof t.join<"u"?!!t.join:!1,_=typeof t.swap<"u"?!!t.swap:!1,M=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,O=typeof t.predefined<"u"?!!t.predefined:!1,T=O?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+h+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",P=i+'<rect x="0" y="0" width="'+o+'" height="'+c+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,b="",k="",A=0;A<l;A++)for(var L=0;L<l;L++){var B=r[L][A];if(B){var F=L*h+t.padding*h,J=A*d+t.padding*d;if(_){var V=F;F=J,J=V}if(p){var W=h+F,te=d+J;F=Number.isInteger(F)?Number(F):F.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),k+="M"+F+","+J+" V"+te+" H"+W+" V"+J+" H"+F+" Z "}else O?b+=i+'<use x="'+F.toString()+'" y="'+J.toString()+'" href="#qrmodule" />'+s:b+=i+'<rect x="'+F.toString()+'" y="'+J.toString()+'" width="'+h+'" height="'+d+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}}p&&(b=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+k+'" />');let Z="";if(this.options.image!==void 0&&this.options.image.svg){const C=o*this.options.image.width/100,a=c*this.options.image.height/100,f=o/2-C/2,g=c/2-a/2;Z+=`<svg x="${f}" y="${g}" width="${C}" height="${a}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Z+=this.options.image.svg+s,Z+="</svg>"}var X="";switch(e.container){case"svg":M&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+c+'">'+s,X+=T+P+b,X+=Z,X+="</svg>";break;case"svg-viewbox":M&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+c+'">'+s,X+=T+P+b,X+=Z,X+="</svg>";break;case"g":X+='<g width="'+o+'" height="'+c+'">'+s,X+=T+P+b,X+=Z,X+="</g>";break;default:X+=(T+P+b+Z).replace(/^\s+/,"");break}return X};var H1=bh,W1=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});ls.QRCode=void 0;const q1=st,Dc=ss,V1=W1(H1),z1=e=>{const[t,r]=(0,Dc.useState)("");return(0,Dc.useEffect)(()=>{var n,i;const s=new V1.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(i=e.height)!==null&&i!==void 0?i:256,padding:0,image:e.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,q1.h)("img",{src:t,alt:"QR Code"}):null};ls.QRCode=z1;var us={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var G1=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});us.Spinner=void 0;const _i=st,J1=G1(ya),Z1=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,_i.h)("div",{class:"-cbwsdk-spinner"},(0,_i.h)("style",null,J1.default),(0,_i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,_i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};us.Spinner=Z1;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var wh=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.CoinbaseWalletSteps=sn.ConnectContent=void 0;const mr=wh(Yn),ae=st,K1=z,Q1=fn,Y1=os,X1=as,eg=cs,tg=ls,rg=us,ng=wh(ma),ho={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Eh},ig=e=>e==="light"?"#FFFFFF":"#0A0B0D";function sg(e){const{theme:t}=e,r=(0,K1.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=ho.steps;return(0,ae.h)("div",{"data-testid":"connect-content",className:(0,mr.default)("-cbwsdk-connect-content",t)},(0,ae.h)("style",null,ng.default),(0,ae.h)("div",{className:"-cbwsdk-connect-content-header"},(0,ae.h)("h2",{className:(0,mr.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,ae.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,ae.h)(Y1.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ae.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,ae.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,ae.h)(og,{title:ho.title,description:ho.description,theme:t})),(0,ae.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,ae.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,ae.h)(tg.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,ae.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Q1.LIB_VERSION}),(0,ae.h)("input",{type:"hidden",value:r})),(0,ae.h)(n,{theme:t}),!e.isConnected&&(0,ae.h)("div",{"data-testid":"connecting-spinner",className:(0,mr.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,ae.h)(rg.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,ae.h)("p",null,"Connecting...")))))}sn.ConnectContent=sg;function og({title:e,description:t,theme:r}){return(0,ae.h)("div",{className:(0,mr.default)("-cbwsdk-connect-item",r)},(0,ae.h)("div",null,(0,ae.h)(X1.CoinbaseWalletRound,null)),(0,ae.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,ae.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,ae.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function Eh({theme:e}){return(0,ae.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,ae.h)("li",{className:(0,mr.default)("-cbwsdk-wallet-steps-item",e)},(0,ae.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,ae.h)("li",{className:(0,mr.default)("-cbwsdk-wallet-steps-item",e)},(0,ae.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,ae.h)("span",null,"Tap ",(0,ae.h)("strong",null,"Scan")," "),(0,ae.h)("span",{className:(0,mr.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,ae.h)(eg.QRCodeIcon,{fill:ig(e)})))))}sn.CoinbaseWalletSteps=Eh;var hs={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.ArrowLeftIcon=void 0;const jc=st;function ag(e){return(0,jc.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,jc.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}fs.ArrowLeftIcon=ag;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.LaptopIcon=void 0;const fo=st;function cg(e){return(0,fo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,fo.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,fo.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ds.LaptopIcon=cg;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.SafeIcon=void 0;const Uc=st;function lg(e){return(0,Uc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Uc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ps.SafeIcon=lg;var va={};Object.defineProperty(va,"__esModule",{value:!0});va.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Sh=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});hs.TryExtensionContent=void 0;const cr=Sh(Yn),Ge=st,po=ss,ug=fs,hg=ds,fg=ps,dg=Sh(va);function pg({theme:e}){const[t,r]=(0,po.useState)(!1),n=(0,po.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,po.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,Ge.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension",e)},(0,Ge.h)("style",null,dg.default),(0,Ge.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ge.h)("h3",{class:(0,cr.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,Ge.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ge.h)("button",{class:(0,cr.default)("-cbwsdk-try-extension-cta",e),onClick:i},t?"Refresh":"Install"),(0,Ge.h)("div",null,!t&&(0,Ge.h)(ug.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,Ge.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ge.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ge.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ge.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ge.h)("span",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Ge.h)(hg.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ge.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,Ge.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ge.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ge.h)("span",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Ge.h)(fg.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ge.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}hs.TryExtensionContent=pg;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Rh=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(is,"__esModule",{value:!0});is.ConnectDialog=void 0;const go=Rh(Yn),lr=st,_o=ss,gg=sn,_g=hs,yg=Rh(ba),mg=e=>{const{isOpen:t,darkMode:r}=e,[n,i]=(0,_o.useState)(!t),[s,o]=(0,_o.useState)(!t);(0,_o.useEffect)(()=>{const l=[window.setTimeout(()=>{o(!t)},10)];return t?i(!1):l.push(window.setTimeout(()=>{i(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[t]);const c=r?"dark":"light";return(0,lr.h)("div",{class:(0,go.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,lr.h)("style",null,yg.default),(0,lr.h)("div",{class:(0,go.default)("-cbwsdk-connect-dialog-backdrop",c,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,lr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,lr.h)("div",{class:(0,go.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,lr.h)(gg.ConnectContent,{theme:c,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,lr.h)(_g.TryExtensionContent,{theme:c}))))};is.ConnectDialog=mg;Object.defineProperty(ns,"__esModule",{value:!0});ns.LinkFlow=void 0;const yo=st,vg=is;class bg{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,yo.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,yo.render)((0,yo.h)(vg.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}ns.LinkFlow=bg;var wa={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(e){var t=G&&G.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(Yn),n=st,i=ss,s=t(Ea),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(_){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=_.darkMode}attach(_){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",_.appendChild(this.root),this.render()}presentItem(_){const M=this.nextItemKey++;return this.items.set(M,_),this.render(),()=>{this.items.delete(M),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([_,M])=>(0,n.h)(e.SnackbarInstance,Object.assign({},M,{key:_}))))),this.root)}}e.Snackbar=l;const h=p=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},p.children));e.SnackbarContainer=h;const d=({autoExpand:p,message:_,menuItems:M})=>{const[O,T]=(0,i.useState)(!0),[P,b]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const A=[window.setTimeout(()=>{T(!1)},1),window.setTimeout(()=>{b(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const k=()=>{b(!P)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",O&&"-cbwsdk-snackbar-instance-hidden",P&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:k},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},_),(0,n.h)("div",{class:"-gear-container"},!P&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:c,class:"-gear-icon",title:"Expand"}))),M&&M.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},M.map((A,L)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:L},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};e.SnackbarInstance=d})(wa);Object.defineProperty(Gn,"__esModule",{value:!0});Gn.WalletLinkRelayUI=void 0;const wg=Jn,Eg=ns,Sg=wa;class Rg{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new Sg.Snackbar({darkMode:t.darkMode}),this.linkFlow=new Eg.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,wg.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}Gn.WalletLinkRelayUI=Rg;Object.defineProperty($n,"__esModule",{value:!0});$n.WalletLinkRelay=void 0;const Ur=Pn,Mg=Je,He=z,ur=dn,Hc=pt,Wt=pn,Cg=es,hr=hn,kg=Gn;class Bt extends Hc.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var c;this.isLinked=o;const l=this.storage.getItem(Hc.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,l){const h=l.split(" "),d=this.storage.getItem("IsStandaloneSigning")==="true";if(h[0]!==""&&!o&&this.session.linked&&!d){this.isUnlinkedErrorState=!0;const p=this.getSessionIdHash();(c=this.diagnostic)===null||c===void 0||c.log(ur.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:p})}}},this.metadataUpdated=(o,c)=>{this.storage.setItem(o,c)},this.chainUpdated=(o,c)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===c||(this.chainCallbackParams={chainId:o,jsonRpcUrl:c},this.chainCallback&&this.chainCallback(o,c))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),Bt.accountRequestCallbackIds.size>0&&(Array.from(Bt.accountRequestCallbackIds.values()).forEach(c=>{const l={type:"WEB3_RESPONSE",id:c,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},l),{id:c}))}),Bt.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:i,connection:s}=this.subscribe();this._session=n,this.connection=s,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){const t=Wt.Session.load(this.storage)||new Wt.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,i=new Cg.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:s,darkMode:o}=this.options,c=this.options.uiConstructor({linkAPIUrl:r,version:s,darkMode:o,session:t});return i.connect(),{session:t,ui:c,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(ur.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const i=Wt.Session.load(this.storage);if(i?.id===this._session.id?this.storage.clear():i&&((r=this.diagnostic)===null||r===void 0||r.log(ur.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Wt.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:o,connection:c}=this.subscribe();this._session=s,this.connection=c,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ur.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,He.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,He.hexStringFromBuffer)(t,!0),signature:(0,He.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,He.bigIntStringFromBN)(t.weiValue),data:(0,He.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,He.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,He.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,He.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,He.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,He.bigIntStringFromBN)(t.weiValue),data:(0,He.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,He.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,He.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,He.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,He.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,He.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,He.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,He.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r?.()};return{promise:new Promise((o,c)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r?.(),(0,hr.isErrorResponse)(l))return c(new Error(l.errorMessage));o(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:i}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof kg.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const i={type:"WEB3_REQUEST",id:t,request:r},s=Wt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(ur.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Wt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(o=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(ur.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Wt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(ur.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){Bt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},t),{id:i}))),Bt.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,Ur.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:o,errorCode:i}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,He.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,s)};return{promise:new Promise((s,o)=>{if(this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),(0,hr.isErrorResponse)(c))return o(new Error(c.errorMessage));s(c)}),this.ui.inlineAccountsResponse()){const c=l=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:l}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=Ur.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}Bt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider"},n=(0,He.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,c)=>{this.relayEventManager.callbacks.set(n,d=>{if((0,hr.isErrorResponse)(d))return c(new Error(d.errorMessage));o(d)});const l=d=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:Mg.ProviderType.Unselected}})},h=d=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:d}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:h,onCancel:l,providerOptions:t})});return{cancel:i,promise:s}}watchAsset(t,r,n,i,s,o){const c={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const h=(0,He.randomBytesHex)(8),d=_=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,c.method,_),l?.()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const p=new Promise((_,M)=>{this.relayEventManager.callbacks.set(h,P=>{if(l?.(),(0,hr.isErrorResponse)(P))return M(new Error(P.errorMessage));_(P)});const O=P=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"watchAsset",result:!1}})},T=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:T,onCancel:O,type:t,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,c)});return{cancel:d,promise:p}}addEthereumChain(t,r,n,i,s,o){const c={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const h=(0,He.randomBytesHex)(8),d=_=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,c.method,_),l?.()};return this.ui.inlineAddEthereumChain(t)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((_,M)=>{this.relayEventManager.callbacks.set(h,P=>{if(l?.(),(0,hr.isErrorResponse)(P))return M(new Error(P.errorMessage));_(P)});const O=P=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},T=P=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:P}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:O,onApprove:T,chainId:c.params.chainId,rpcUrls:c.params.rpcUrls,blockExplorerUrls:c.params.blockExplorerUrls,chainName:c.params.chainName,iconUrls:c.params.iconUrls,nativeCurrency:c.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,c)}),cancel:d}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},i=(0,He.randomBytesHex)(8),s=c=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,c)};return{promise:new Promise((c,l)=>{this.relayEventManager.callbacks.set(i,p=>{if((0,hr.isErrorResponse)(p)&&p.errorCode)return l(Ur.standardErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,hr.isErrorResponse)(p))return l(new Error(p.errorMessage));c(p)});const h=p=>{var _;if(p){const M=(_=(0,Ur.getErrorCode)(p))!==null&&_!==void 0?_:Ur.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",p instanceof Error?p:Ur.standardErrors.provider.unsupportedChain(t),M)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},d=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:p}}})};this.ui.switchEthereumChain({onCancel:h,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return Wt.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=s=>{this.handleErrorResponse(t,r.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:s})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}}$n.WalletLinkRelay=Bt;Bt.accountRequestCallbackIds=new Set;var Xn={},gs={},Mh={};(function(e){var t=G&&G.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(i,s);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,c)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=G&&G.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wa,e)})(Mh);var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var Ch=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});gs.RedirectDialog=void 0;const Ag=Ch(Yn),At=st,Ig=Jn,xg=Mh,Tg=Ch(Sa);class Pg{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,Ig.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,At.render)(null,this.root),t&&(0,At.render)((0,At.h)(Ng,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}gs.RedirectDialog=Pg;const Ng=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return(0,At.h)(xg.SnackbarContainer,{darkMode:r},(0,At.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,At.h)("style",null,Tg.default),(0,At.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,At.h)("div",{class:(0,Ag.default)("-cbwsdk-redirect-dialog-box",s)},(0,At.h)("p",null,e),(0,At.h)("button",{onClick:n},t))))};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.MobileRelayUI=void 0;const Og=gs;class Lg{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Og.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}Xn.MobileRelayUI=Lg;Object.defineProperty(Bn,"__esModule",{value:!0});Bn.MobileRelay=void 0;const Bg=z,$g=$n,Fg=Xn;class Dg extends $g.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,Bg.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Fg.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}Bn.MobileRelay=Dg;var Go={exports:{}},kh=ji.EventEmitter,mo,Wc;function jg(){if(Wc)return mo;Wc=1;function e(O,T){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(O);T&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(O,k).enumerable})),P.push.apply(P,b)}return P}function t(O){for(var T=1;T<arguments.length;T++){var P=arguments[T]!=null?arguments[T]:{};T%2?e(Object(P),!0).forEach(function(b){r(O,b,P[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):e(Object(P)).forEach(function(b){Object.defineProperty(O,b,Object.getOwnPropertyDescriptor(P,b))})}return O}function r(O,T,P){return T=o(T),T in O?Object.defineProperty(O,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[T]=P,O}function n(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function i(O,T){for(var P=0;P<T.length;P++){var b=T[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,o(b.key),b)}}function s(O,T,P){return T&&i(O.prototype,T),Object.defineProperty(O,"prototype",{writable:!1}),O}function o(O){var T=c(O,"string");return typeof T=="symbol"?T:String(T)}function c(O,T){if(typeof O!="object"||O===null)return O;var P=O[Symbol.toPrimitive];if(P!==void 0){var b=P.call(O,T);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}var l=Di,h=l.Buffer,d=ta,p=d.inspect,_=p&&p.custom||"inspect";function M(O,T,P){h.prototype.copy.call(O,T,P)}return mo=function(){function O(){n(this,O),this.head=null,this.tail=null,this.length=0}return s(O,[{key:"push",value:function(P){var b={data:P,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(P){var b={data:P,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var b=this.head,k=""+b.data;b=b.next;)k+=P+b.data;return k}},{key:"concat",value:function(P){if(this.length===0)return h.alloc(0);for(var b=h.allocUnsafe(P>>>0),k=this.head,A=0;k;)M(k.data,b,A),A+=k.data.length,k=k.next;return b}},{key:"consume",value:function(P,b){var k;return P<this.head.data.length?(k=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?k=this.shift():k=b?this._getString(P):this._getBuffer(P),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var b=this.head,k=1,A=b.data;for(P-=A.length;b=b.next;){var L=b.data,B=P>L.length?L.length:P;if(B===L.length?A+=L:A+=L.slice(0,P),P-=B,P===0){B===L.length?(++k,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=L.slice(B));break}++k}return this.length-=k,A}},{key:"_getBuffer",value:function(P){var b=h.allocUnsafe(P),k=this.head,A=1;for(k.data.copy(b),P-=k.data.length;k=k.next;){var L=k.data,B=P>L.length?L.length:P;if(L.copy(b,b.length-P,0,B),P-=B,P===0){B===L.length?(++A,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=L.slice(B));break}++A}return this.length-=A,b}},{key:_,value:function(P,b){return p(this,t(t({},b),{},{depth:0,customInspect:!1}))}}]),O}(),mo}function Ug(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Jo,this,e)):process.nextTick(Jo,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ii,r):(r._writableState.errorEmitted=!0,process.nextTick(qc,r,s)):process.nextTick(qc,r,s):t?(process.nextTick(Ii,r),t(s)):process.nextTick(Ii,r)}),this)}function qc(e,t){Jo(e,t),Ii(e)}function Ii(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Hg(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Jo(e,t){e.emit("error",t)}function Wg(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var Ah={destroy:Ug,undestroy:Hg,errorOrDestroy:Wg},Sr={};function qg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ih={};function yt(e,t,r){r||(r=Error);function n(s,o,c){return typeof t=="string"?t:t(s,o,c)}var i=function(s){qg(o,s);function o(c,l,h){return s.call(this,n(c,l,h))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=e,Ih[e]=i}function Vc(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Vg(e,t,r){return e.substr(0,t.length)===t}function zg(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Gg(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}yt("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);yt("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Vg(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(zg(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Vc(t,"type"));else{var s=Gg(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(Vc(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);yt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");yt("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});yt("ERR_STREAM_PREMATURE_CLOSE","Premature close");yt("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});yt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");yt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");yt("ERR_STREAM_WRITE_AFTER_END","write after end");yt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);yt("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);yt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Sr.codes=Ih;var Jg=Sr.codes.ERR_INVALID_OPT_VALUE;function Zg(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Kg(e,t,r,n){var i=Zg(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Jg(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var xh={getHighWaterMark:Kg},Qg=Yg;function Yg(e,t){if(vo("noDeprecation"))return e;var r=!1;function n(){if(!r){if(vo("throwDeprecation"))throw new Error(t);vo("traceDeprecation"),r=!0}return e.apply(this,arguments)}return n}function vo(e){try{if(!G.localStorage)return!1}catch{return!1}var t=G.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var bo,zc;function Th(){if(zc)return bo;zc=1,bo=V;function e(I){var N=this;this.next=null,this.entry=null,this.finish=function(){U(N,I)}}var t;V.WritableState=F;var r={deprecate:Qg},n=kh,i=Di.Buffer,s=(typeof G<"u"?G:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(I){return i.from(I)}function c(I){return i.isBuffer(I)||I instanceof s}var l=Ah,h=xh,d=h.getHighWaterMark,p=Sr.codes,_=p.ERR_INVALID_ARG_TYPE,M=p.ERR_METHOD_NOT_IMPLEMENTED,O=p.ERR_MULTIPLE_CALLBACK,T=p.ERR_STREAM_CANNOT_PIPE,P=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,k=p.ERR_STREAM_WRITE_AFTER_END,A=p.ERR_UNKNOWN_ENCODING,L=l.errorOrDestroy;bt(V,n);function B(){}function F(I,N,$){t=t||on(),I=I||{},typeof $!="boolean"&&($=N instanceof t),this.objectMode=!!I.objectMode,$&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=d(this,I,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=I.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){g(N,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}F.prototype.getBuffer=function(){for(var N=this.bufferedRequest,$=[];N;)$.push(N),N=N.next;return $},function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(N){return J.call(this,N)?!0:this!==V?!1:N&&N._writableState instanceof F}})):J=function(N){return N instanceof this};function V(I){t=t||on();var N=this instanceof t;if(!N&&!J.call(V,this))return new V(I);this._writableState=new F(I,this,N),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),n.call(this)}V.prototype.pipe=function(){L(this,new T)};function W(I,N){var $=new k;L(I,$),process.nextTick(N,$)}function te(I,N,$,H){var re;return $===null?re=new b:typeof $!="string"&&!N.objectMode&&(re=new _("chunk",["string","Buffer"],$)),re?(L(I,re),process.nextTick(H,re),!1):!0}V.prototype.write=function(I,N,$){var H=this._writableState,re=!1,E=!H.objectMode&&c(I);return E&&!i.isBuffer(I)&&(I=o(I)),typeof N=="function"&&($=N,N=null),E?N="buffer":N||(N=H.defaultEncoding),typeof $!="function"&&($=B),H.ending?W(this,$):(E||te(this,H,I,$))&&(H.pendingcb++,re=X(this,H,E,I,N,$)),re},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,!I.writing&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&R(this,I))},V.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new A(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(I,N,$){return!I.objectMode&&I.decodeStrings!==!1&&typeof N=="string"&&(N=i.from(N,$)),N}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(I,N,$,H,re,E){if(!$){var S=Z(N,H,re);H!==S&&($=!0,re="buffer",H=S)}var D=N.objectMode?1:H.length;N.length+=D;var j=N.length<N.highWaterMark;if(j||(N.needDrain=!0),N.writing||N.corked){var Q=N.lastBufferedRequest;N.lastBufferedRequest={chunk:H,encoding:re,isBuf:$,callback:E,next:null},Q?Q.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else C(I,N,!1,D,H,re,E);return j}function C(I,N,$,H,re,E,S){N.writelen=H,N.writecb=S,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new P("write")):$?I._writev(re,N.onwrite):I._write(re,E,N.onwrite),N.sync=!1}function a(I,N,$,H,re){--N.pendingcb,$?(process.nextTick(re,H),process.nextTick(w,I,N),I._writableState.errorEmitted=!0,L(I,H)):(re(H),I._writableState.errorEmitted=!0,L(I,H),w(I,N))}function f(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}function g(I,N){var $=I._writableState,H=$.sync,re=$.writecb;if(typeof re!="function")throw new O;if(f($),N)a(I,$,H,N,re);else{var E=x($)||I.destroyed;!E&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&R(I,$),H?process.nextTick(y,I,$,E,re):y(I,$,E,re)}}function y(I,N,$,H){$||v(I,N),N.pendingcb--,H(),w(I,N)}function v(I,N){N.length===0&&N.needDrain&&(N.needDrain=!1,I.emit("drain"))}function R(I,N){N.bufferProcessing=!0;var $=N.bufferedRequest;if(I._writev&&$&&$.next){var H=N.bufferedRequestCount,re=new Array(H),E=N.corkedRequestsFree;E.entry=$;for(var S=0,D=!0;$;)re[S]=$,$.isBuf||(D=!1),$=$.next,S+=1;re.allBuffers=D,C(I,N,!0,N.length,re,"",E.finish),N.pendingcb++,N.lastBufferedRequest=null,E.next?(N.corkedRequestsFree=E.next,E.next=null):N.corkedRequestsFree=new e(N),N.bufferedRequestCount=0}else{for(;$;){var j=$.chunk,Q=$.encoding,ee=$.callback,K=N.objectMode?1:j.length;if(C(I,N,!1,K,j,Q,ee),$=$.next,N.bufferedRequestCount--,N.writing)break}$===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=$,N.bufferProcessing=!1}V.prototype._write=function(I,N,$){$(new M("_write()"))},V.prototype._writev=null,V.prototype.end=function(I,N,$){var H=this._writableState;return typeof I=="function"?($=I,I=null,N=null):typeof N=="function"&&($=N,N=null),I!=null&&this.write(I,N),H.corked&&(H.corked=1,this.uncork()),H.ending||q(this,H,$),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function x(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function m(I,N){I._final(function($){N.pendingcb--,$&&L(I,$),N.prefinished=!0,I.emit("prefinish"),w(I,N)})}function u(I,N){!N.prefinished&&!N.finalCalled&&(typeof I._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,process.nextTick(m,I,N)):(N.prefinished=!0,I.emit("prefinish")))}function w(I,N){var $=x(N);if($&&(u(I,N),N.pendingcb===0&&(N.finished=!0,I.emit("finish"),N.autoDestroy))){var H=I._readableState;(!H||H.autoDestroy&&H.endEmitted)&&I.destroy()}return $}function q(I,N,$){N.ending=!0,w(I,N),$&&(N.finished?process.nextTick($):I.once("finish",$)),N.ended=!0,I.writable=!1}function U(I,N,$){var H=I.entry;for(I.entry=null;H;){var re=H.callback;N.pendingcb--,re($),H=H.next}N.corkedRequestsFree.next=I}return Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),V.prototype.destroy=l.destroy,V.prototype._undestroy=l.undestroy,V.prototype._destroy=function(I,N){N(I)},bo}var wo,Gc;function on(){if(Gc)return wo;Gc=1;var e=Object.keys||function(h){var d=[];for(var p in h)d.push(p);return d};wo=o;var t=Nh(),r=Th();bt(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(h){if(!(this instanceof o))return new o(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||process.nextTick(l,this)}function l(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),wo}var Eo={},Jc;function Zc(){if(Jc)return Eo;Jc=1;var e=jt.Buffer,t=e.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var k;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(k)return;b=(""+b).toLowerCase(),k=!0}}function n(b){var k=r(b);if(typeof k!="string"&&(e.isEncoding===t||!t(b)))throw new Error("Unknown encoding: "+b);return k||b}Eo.StringDecoder=i;function i(b){this.encoding=n(b);var k;switch(this.encoding){case"utf16le":this.text=p,this.end=_,k=4;break;case"utf8":this.fillLast=l,k=4;break;case"base64":this.text=M,this.end=O,k=3;break;default:this.write=T,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(k)}i.prototype.write=function(b){if(b.length===0)return"";var k,A;if(this.lastNeed){if(k=this.fillLast(b),k===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<b.length?k?k+this.text(b,A):this.text(b,A):k||""},i.prototype.end=d,i.prototype.text=h,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,k,A){var L=k.length-1;if(L<A)return 0;var B=s(k[L]);return B>=0?(B>0&&(b.lastNeed=B-1),B):--L<A||B===-2?0:(B=s(k[L]),B>=0?(B>0&&(b.lastNeed=B-2),B):--L<A||B===-2?0:(B=s(k[L]),B>=0?(B>0&&(B===2?B=0:b.lastNeed=B-3),B):0))}function c(b,k,A){if((k[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return b.lastNeed=2,""}}function l(b){var k=this.lastTotal-this.lastNeed,A=c(this,b);if(A!==void 0)return A;if(this.lastNeed<=b.length)return b.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,k,0,b.length),this.lastNeed-=b.length}function h(b,k){var A=o(this,b,k);if(!this.lastNeed)return b.toString("utf8",k);this.lastTotal=A;var L=b.length-(A-this.lastNeed);return b.copy(this.lastChar,0,L),b.toString("utf8",k,L)}function d(b){var k=b&&b.length?this.write(b):"";return this.lastNeed?k+"":k}function p(b,k){if((b.length-k)%2===0){var A=b.toString("utf16le",k);if(A){var L=A.charCodeAt(A.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",k,b.length-1)}function _(b){var k=b&&b.length?this.write(b):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,A)}return k}function M(b,k){var A=(b.length-k)%3;return A===0?b.toString("base64",k):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",k,b.length-A))}function O(b){var k=b&&b.length?this.write(b):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function T(b){return b.toString(this.encoding)}function P(b){return b&&b.length?this.write(b):""}return Eo}var Kc=Sr.codes.ERR_STREAM_PREMATURE_CLOSE;function Xg(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function e_(){}function t_(e){return e.setHeader&&typeof e.abort=="function"}function Ph(e,t,r){if(typeof t=="function")return Ph(e,null,t);t||(t={}),r=Xg(r||e_);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||c()},o=e._writableState&&e._writableState.finished,c=function(){i=!1,o=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,h=function(){n=!1,l=!0,i||r.call(e)},d=function(O){r.call(e,O)},p=function(){var O;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(O=new Kc),r.call(e,O);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(O=new Kc),r.call(e,O)},_=function(){e.req.on("finish",c)};return t_(e)?(e.on("complete",c),e.on("abort",p),e.req?_():e.on("request",_)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",h),e.on("finish",c),t.error!==!1&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",_),e.req&&e.req.removeListener("finish",c),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",c),e.removeListener("end",h),e.removeListener("error",d),e.removeListener("close",p)}}var Ra=Ph,So,Qc;function r_(){if(Qc)return So;Qc=1;var e;function t(A,L,B){return L=r(L),L in A?Object.defineProperty(A,L,{value:B,enumerable:!0,configurable:!0,writable:!0}):A[L]=B,A}function r(A){var L=n(A,"string");return typeof L=="symbol"?L:String(L)}function n(A,L){if(typeof A!="object"||A===null)return A;var B=A[Symbol.toPrimitive];if(B!==void 0){var F=B.call(A,L);if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(A)}var i=Ra,s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function _(A,L){return{value:A,done:L}}function M(A){var L=A[s];if(L!==null){var B=A[p].read();B!==null&&(A[h]=null,A[s]=null,A[o]=null,L(_(B,!1)))}}function O(A){process.nextTick(M,A)}function T(A,L){return function(B,F){A.then(function(){if(L[l]){B(_(void 0,!0));return}L[d](B,F)},F)}}var P=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var L=this,B=this[c];if(B!==null)return Promise.reject(B);if(this[l])return Promise.resolve(_(void 0,!0));if(this[p].destroyed)return new Promise(function(W,te){process.nextTick(function(){L[c]?te(L[c]):W(_(void 0,!0))})});var F=this[h],J;if(F)J=new Promise(T(F,this));else{var V=this[p].read();if(V!==null)return Promise.resolve(_(V,!1));J=new Promise(this[d])}return this[h]=J,J}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var L=this;return new Promise(function(B,F){L[p].destroy(null,function(J){if(J){F(J);return}B(_(void 0,!0))})})}),e),P),k=function(L){var B,F=Object.create(b,(B={},t(B,p,{value:L,writable:!0}),t(B,s,{value:null,writable:!0}),t(B,o,{value:null,writable:!0}),t(B,c,{value:null,writable:!0}),t(B,l,{value:L._readableState.endEmitted,writable:!0}),t(B,d,{value:function(V,W){var te=F[p].read();te?(F[h]=null,F[s]=null,F[o]=null,V(_(te,!1))):(F[s]=V,F[o]=W)},writable:!0}),B));return F[h]=null,i(L,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=F[o];V!==null&&(F[h]=null,F[s]=null,F[o]=null,V(J)),F[c]=J;return}var W=F[s];W!==null&&(F[h]=null,F[s]=null,F[o]=null,W(_(void 0,!0))),F[l]=!0}),L.on("readable",O.bind(null,F)),F};return So=k,So}var Ro,Yc;function n_(){return Yc||(Yc=1,Ro=function(){throw new Error("Readable.from is not available in the browser")}),Ro}var Mo,Xc;function Nh(){if(Xc)return Mo;Xc=1,Mo=W;var e;W.ReadableState=V,ji.EventEmitter;var t=function(S,D){return S.listeners(D).length},r=kh,n=Di.Buffer,i=(typeof G<"u"?G:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(E){return n.from(E)}function o(E){return n.isBuffer(E)||E instanceof i}var c=ta,l;c&&c.debuglog?l=c.debuglog("stream"):l=function(){};var h=jg(),d=Ah,p=xh,_=p.getHighWaterMark,M=Sr.codes,O=M.ERR_INVALID_ARG_TYPE,T=M.ERR_STREAM_PUSH_AFTER_EOF,P=M.ERR_METHOD_NOT_IMPLEMENTED,b=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,k,A,L;bt(W,r);var B=d.errorOrDestroy,F=["error","close","destroy","pause","resume"];function J(E,S,D){if(typeof E.prependListener=="function")return E.prependListener(S,D);!E._events||!E._events[S]?E.on(S,D):Array.isArray(E._events[S])?E._events[S].unshift(D):E._events[S]=[D,E._events[S]]}function V(E,S,D){e=e||on(),E=E||{},typeof D!="boolean"&&(D=S instanceof e),this.objectMode=!!E.objectMode,D&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=_(this,E,"readableHighWaterMark",D),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(k||(k=Zc().StringDecoder),this.decoder=new k(E.encoding),this.encoding=E.encoding)}function W(E){if(e=e||on(),!(this instanceof W))return new W(E);var S=this instanceof e;this._readableState=new V(E,this,S),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(S){this._readableState&&(this._readableState.destroyed=S)}}),W.prototype.destroy=d.destroy,W.prototype._undestroy=d.undestroy,W.prototype._destroy=function(E,S){S(E)},W.prototype.push=function(E,S){var D=this._readableState,j;return D.objectMode?j=!0:typeof E=="string"&&(S=S||D.defaultEncoding,S!==D.encoding&&(E=n.from(E,S),S=""),j=!0),te(this,E,S,!1,j)},W.prototype.unshift=function(E){return te(this,E,null,!0,!1)};function te(E,S,D,j,Q){l("readableAddChunk",S);var ee=E._readableState;if(S===null)ee.reading=!1,g(E,ee);else{var K;if(Q||(K=X(ee,S)),K)B(E,K);else if(ee.objectMode||S&&S.length>0)if(typeof S!="string"&&!ee.objectMode&&Object.getPrototypeOf(S)!==n.prototype&&(S=s(S)),j)ee.endEmitted?B(E,new b):Z(E,ee,S,!0);else if(ee.ended)B(E,new T);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!D?(S=ee.decoder.write(S),ee.objectMode||S.length!==0?Z(E,ee,S,!1):R(E,ee)):Z(E,ee,S,!1)}else j||(ee.reading=!1,R(E,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function Z(E,S,D,j){S.flowing&&S.length===0&&!S.sync?(S.awaitDrain=0,E.emit("data",D)):(S.length+=S.objectMode?1:D.length,j?S.buffer.unshift(D):S.buffer.push(D),S.needReadable&&y(E)),R(E,S)}function X(E,S){var D;return!o(S)&&typeof S!="string"&&S!==void 0&&!E.objectMode&&(D=new O("chunk",["string","Buffer","Uint8Array"],S)),D}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(E){k||(k=Zc().StringDecoder);var S=new k(E);this._readableState.decoder=S,this._readableState.encoding=this._readableState.decoder.encoding;for(var D=this._readableState.buffer.head,j="";D!==null;)j+=S.write(D.data),D=D.next;return this._readableState.buffer.clear(),j!==""&&this._readableState.buffer.push(j),this._readableState.length=j.length,this};var C=1073741824;function a(E){return E>=C?E=C:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function f(E,S){return E<=0||S.length===0&&S.ended?0:S.objectMode?1:E!==E?S.flowing&&S.length?S.buffer.head.data.length:S.length:(E>S.highWaterMark&&(S.highWaterMark=a(E)),E<=S.length?E:S.ended?S.length:(S.needReadable=!0,0))}W.prototype.read=function(E){l("read",E),E=parseInt(E,10);var S=this._readableState,D=E;if(E!==0&&(S.emittedReadable=!1),E===0&&S.needReadable&&((S.highWaterMark!==0?S.length>=S.highWaterMark:S.length>0)||S.ended))return l("read: emitReadable",S.length,S.ended),S.length===0&&S.ended?$(this):y(this),null;if(E=f(E,S),E===0&&S.ended)return S.length===0&&$(this),null;var j=S.needReadable;l("need readable",j),(S.length===0||S.length-E<S.highWaterMark)&&(j=!0,l("length less than watermark",j)),S.ended||S.reading?(j=!1,l("reading or ended",j)):j&&(l("do read"),S.reading=!0,S.sync=!0,S.length===0&&(S.needReadable=!0),this._read(S.highWaterMark),S.sync=!1,S.reading||(E=f(D,S)));var Q;return E>0?Q=N(E,S):Q=null,Q===null?(S.needReadable=S.length<=S.highWaterMark,E=0):(S.length-=E,S.awaitDrain=0),S.length===0&&(S.ended||(S.needReadable=!0),D!==E&&S.ended&&$(this)),Q!==null&&this.emit("data",Q),Q};function g(E,S){if(l("onEofChunk"),!S.ended){if(S.decoder){var D=S.decoder.end();D&&D.length&&(S.buffer.push(D),S.length+=S.objectMode?1:D.length)}S.ended=!0,S.sync?y(E):(S.needReadable=!1,S.emittedReadable||(S.emittedReadable=!0,v(E)))}}function y(E){var S=E._readableState;l("emitReadable",S.needReadable,S.emittedReadable),S.needReadable=!1,S.emittedReadable||(l("emitReadable",S.flowing),S.emittedReadable=!0,process.nextTick(v,E))}function v(E){var S=E._readableState;l("emitReadable_",S.destroyed,S.length,S.ended),!S.destroyed&&(S.length||S.ended)&&(E.emit("readable"),S.emittedReadable=!1),S.needReadable=!S.flowing&&!S.ended&&S.length<=S.highWaterMark,I(E)}function R(E,S){S.readingMore||(S.readingMore=!0,process.nextTick(x,E,S))}function x(E,S){for(;!S.reading&&!S.ended&&(S.length<S.highWaterMark||S.flowing&&S.length===0);){var D=S.length;if(l("maybeReadMore read 0"),E.read(0),D===S.length)break}S.readingMore=!1}W.prototype._read=function(E){B(this,new P("_read()"))},W.prototype.pipe=function(E,S){var D=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=E;break;case 1:j.pipes=[j.pipes,E];break;default:j.pipes.push(E);break}j.pipesCount+=1,l("pipe count=%d opts=%j",j.pipesCount,S);var Q=(!S||S.end!==!1)&&E!==process.stdout&&E!==process.stderr,ee=Q?le:he;j.endEmitted?process.nextTick(ee):D.once("end",ee),E.on("unpipe",K);function K(ue,at){l("onunpipe"),ue===D&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,ye())}function le(){l("onend"),E.end()}var Et=m(D);E.on("drain",Et);var ge=!1;function ye(){l("cleanup"),E.removeListener("close",de),E.removeListener("finish",Ot),E.removeListener("drain",Et),E.removeListener("error",fe),E.removeListener("unpipe",K),D.removeListener("end",le),D.removeListener("end",he),D.removeListener("data",Ut),ge=!0,j.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&Et()}D.on("data",Ut);function Ut(ue){l("ondata");var at=E.write(ue);l("dest.write",at),at===!1&&((j.pipesCount===1&&j.pipes===E||j.pipesCount>1&&re(j.pipes,E)!==-1)&&!ge&&(l("false write response, pause",j.awaitDrain),j.awaitDrain++),D.pause())}function fe(ue){l("onerror",ue),he(),E.removeListener("error",fe),t(E,"error")===0&&B(E,ue)}J(E,"error",fe);function de(){E.removeListener("finish",Ot),he()}E.once("close",de);function Ot(){l("onfinish"),E.removeListener("close",de),he()}E.once("finish",Ot);function he(){l("unpipe"),D.unpipe(E)}return E.emit("pipe",D),j.flowing||(l("pipe resume"),D.resume()),E};function m(E){return function(){var D=E._readableState;l("pipeOnDrain",D.awaitDrain),D.awaitDrain&&D.awaitDrain--,D.awaitDrain===0&&t(E,"data")&&(D.flowing=!0,I(E))}}W.prototype.unpipe=function(E){var S=this._readableState,D={hasUnpiped:!1};if(S.pipesCount===0)return this;if(S.pipesCount===1)return E&&E!==S.pipes?this:(E||(E=S.pipes),S.pipes=null,S.pipesCount=0,S.flowing=!1,E&&E.emit("unpipe",this,D),this);if(!E){var j=S.pipes,Q=S.pipesCount;S.pipes=null,S.pipesCount=0,S.flowing=!1;for(var ee=0;ee<Q;ee++)j[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var K=re(S.pipes,E);return K===-1?this:(S.pipes.splice(K,1),S.pipesCount-=1,S.pipesCount===1&&(S.pipes=S.pipes[0]),E.emit("unpipe",this,D),this)},W.prototype.on=function(E,S){var D=r.prototype.on.call(this,E,S),j=this._readableState;return E==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):E==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,l("on readable",j.length,j.reading),j.length?y(this):j.reading||process.nextTick(w,this)),D},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(E,S){var D=r.prototype.removeListener.call(this,E,S);return E==="readable"&&process.nextTick(u,this),D},W.prototype.removeAllListeners=function(E){var S=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&process.nextTick(u,this),S};function u(E){var S=E._readableState;S.readableListening=E.listenerCount("readable")>0,S.resumeScheduled&&!S.paused?S.flowing=!0:E.listenerCount("data")>0&&E.resume()}function w(E){l("readable nexttick read 0"),E.read(0)}W.prototype.resume=function(){var E=this._readableState;return E.flowing||(l("resume"),E.flowing=!E.readableListening,q(this,E)),E.paused=!1,this};function q(E,S){S.resumeScheduled||(S.resumeScheduled=!0,process.nextTick(U,E,S))}function U(E,S){l("resume",S.reading),S.reading||E.read(0),S.resumeScheduled=!1,E.emit("resume"),I(E),S.flowing&&!S.reading&&E.read(0)}W.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function I(E){var S=E._readableState;for(l("flow",S.flowing);S.flowing&&E.read()!==null;);}W.prototype.wrap=function(E){var S=this,D=this._readableState,j=!1;E.on("end",function(){if(l("wrapped end"),D.decoder&&!D.ended){var K=D.decoder.end();K&&K.length&&S.push(K)}S.push(null)}),E.on("data",function(K){if(l("wrapped data"),D.decoder&&(K=D.decoder.write(K)),!(D.objectMode&&K==null)&&!(!D.objectMode&&(!K||!K.length))){var le=S.push(K);le||(j=!0,E.pause())}});for(var Q in E)this[Q]===void 0&&typeof E[Q]=="function"&&(this[Q]=function(le){return function(){return E[le].apply(E,arguments)}}(Q));for(var ee=0;ee<F.length;ee++)E.on(F[ee],this.emit.bind(this,F[ee]));return this._read=function(K){l("wrapped _read",K),j&&(j=!1,E.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=r_()),A(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}}),W._fromList=N,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(E,S){if(S.length===0)return null;var D;return S.objectMode?D=S.buffer.shift():!E||E>=S.length?(S.decoder?D=S.buffer.join(""):S.buffer.length===1?D=S.buffer.first():D=S.buffer.concat(S.length),S.buffer.clear()):D=S.buffer.consume(E,S.decoder),D}function $(E){var S=E._readableState;l("endReadable",S.endEmitted),S.endEmitted||(S.ended=!0,process.nextTick(H,S,E))}function H(E,S){if(l("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,S.readable=!1,S.emit("end"),E.autoDestroy)){var D=S._writableState;(!D||D.autoDestroy&&D.finished)&&S.destroy()}}typeof Symbol=="function"&&(W.from=function(E,S){return L===void 0&&(L=n_()),L(W,E,S)});function re(E,S){for(var D=0,j=E.length;D<j;D++)if(E[D]===S)return D;return-1}return Mo}var Oh=Dt,_s=Sr.codes,i_=_s.ERR_METHOD_NOT_IMPLEMENTED,s_=_s.ERR_MULTIPLE_CALLBACK,o_=_s.ERR_TRANSFORM_ALREADY_TRANSFORMING,a_=_s.ERR_TRANSFORM_WITH_LENGTH_0,ys=on();bt(Dt,ys);function c_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new s_);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Dt(e){if(!(this instanceof Dt))return new Dt(e);ys.call(this,e),this._transformState={afterTransform:c_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",l_)}function l_(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){el(e,t,r)}):el(this,null,null)}Dt.prototype.push=function(e,t){return this._transformState.needTransform=!1,ys.prototype.push.call(this,e,t)};Dt.prototype._transform=function(e,t,r){r(new i_("_transform()"))};Dt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Dt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Dt.prototype._destroy=function(e,t){ys.prototype._destroy.call(this,e,function(r){t(r)})};function el(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new a_;if(e._transformState.transforming)throw new o_;return e.push(null)}var u_=In,Lh=Oh;bt(In,Lh);function In(e){if(!(this instanceof In))return new In(e);Lh.call(this,e)}In.prototype._transform=function(e,t,r){r(null,e)};var Co;function h_(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Bh=Sr.codes,f_=Bh.ERR_MISSING_ARGS,d_=Bh.ERR_STREAM_DESTROYED;function tl(e){if(e)throw e}function p_(e){return e.setHeader&&typeof e.abort=="function"}function g_(e,t,r,n){n=h_(n);var i=!1;e.on("close",function(){i=!0}),Co===void 0&&(Co=Ra),Co(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,p_(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new d_("pipe"))}}}function rl(e){e()}function __(e,t){return e.pipe(t)}function y_(e){return!e.length||typeof e[e.length-1]!="function"?tl:e.pop()}function m_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=y_(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new f_("streams");var i,s=t.map(function(o,c){var l=c<t.length-1,h=c>0;return g_(o,l,h,function(d){i||(i=d),d&&s.forEach(rl),!l&&(s.forEach(rl),n(i))})});return t.reduce(__)}var v_=m_;(function(e,t){t=e.exports=Nh(),t.Stream=t,t.Readable=t,t.Writable=Th(),t.Duplex=on(),t.Transform=Oh,t.PassThrough=u_,t.finished=Ra,t.pipeline=v_})(Go,Go.exports);var $h=Go.exports;const{Transform:b_}=$h;var w_=e=>class Fh extends b_{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:E_}=$h;var S_=e=>class Dh extends E_{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Dh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const R_=w_,M_=S_;var C_=function(e){const t=R_(e),r=M_(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},jh={};const nl=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];jh.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49];let _=d^(i<<1|s>>>31),M=p^(s<<1|i>>>31);const O=e[0]^_,T=e[1]^M,P=e[10]^_,b=e[11]^M,k=e[20]^_,A=e[21]^M,L=e[30]^_,B=e[31]^M,F=e[40]^_,J=e[41]^M;_=r^(o<<1|c>>>31),M=n^(c<<1|o>>>31);const V=e[2]^_,W=e[3]^M,te=e[12]^_,Z=e[13]^M,X=e[22]^_,C=e[23]^M,a=e[32]^_,f=e[33]^M,g=e[42]^_,y=e[43]^M;_=i^(l<<1|h>>>31),M=s^(h<<1|l>>>31);const v=e[4]^_,R=e[5]^M,x=e[14]^_,m=e[15]^M,u=e[24]^_,w=e[25]^M,q=e[34]^_,U=e[35]^M,I=e[44]^_,N=e[45]^M;_=o^(d<<1|p>>>31),M=c^(p<<1|d>>>31);const $=e[6]^_,H=e[7]^M,re=e[16]^_,E=e[17]^M,S=e[26]^_,D=e[27]^M,j=e[36]^_,Q=e[37]^M,ee=e[46]^_,K=e[47]^M;_=l^(r<<1|n>>>31),M=h^(n<<1|r>>>31);const le=e[8]^_,Et=e[9]^M,ge=e[18]^_,ye=e[19]^M,Ut=e[28]^_,fe=e[29]^M,de=e[38]^_,Ot=e[39]^M,he=e[48]^_,ue=e[49]^M,at=O,me=T,ve=b<<4|P>>>28,Cr=P<<4|b>>>28,be=k<<3|A>>>29,we=A<<3|k>>>29,kr=B<<9|L>>>23,Ee=L<<9|B>>>23,Se=F<<18|J>>>14,Ar=J<<18|F>>>14,Re=V<<1|W>>>31,Me=W<<1|V>>>31,Ir=Z<<12|te>>>20,Ce=te<<12|Z>>>20,ke=X<<10|C>>>22,xr=C<<10|X>>>22,Ae=f<<13|a>>>19,Ie=a<<13|f>>>19,Tr=g<<2|y>>>30,xe=y<<2|g>>>30,Te=R<<30|v>>>2,Pr=v<<30|R>>>2,Pe=x<<6|m>>>26,Ne=m<<6|x>>>26,Nr=w<<11|u>>>21,Oe=u<<11|w>>>21,Le=q<<15|U>>>17,Or=U<<15|q>>>17,Be=N<<29|I>>>3,$e=I<<29|N>>>3,Lr=$<<28|H>>>4,Fe=H<<28|$>>>4,De=E<<23|re>>>9,Br=re<<23|E>>>9,je=S<<25|D>>>7,Ue=D<<25|S>>>7,Jt=j<<21|Q>>>11,Zt=Q<<21|j>>>11,Kt=K<<24|ee>>>8,Qt=ee<<24|K>>>8,Yt=le<<27|Et>>>5,Xt=Et<<27|le>>>5,er=ge<<20|ye>>>12,tr=ye<<20|ge>>>12,rr=fe<<7|Ut>>>25,nr=Ut<<7|fe>>>25,ir=de<<8|Ot>>>24,sr=Ot<<8|de>>>24,or=he<<14|ue>>>18,ar=ue<<14|he>>>18;e[0]=at^~Ir&Nr,e[1]=me^~Ce&Oe,e[10]=Lr^~er&be,e[11]=Fe^~tr&we,e[20]=Re^~Pe&je,e[21]=Me^~Ne&Ue,e[30]=Yt^~ve&ke,e[31]=Xt^~Cr&xr,e[40]=Te^~De&rr,e[41]=Pr^~Br&nr,e[2]=Ir^~Nr&Jt,e[3]=Ce^~Oe&Zt,e[12]=er^~be&Ae,e[13]=tr^~we&Ie,e[22]=Pe^~je&ir,e[23]=Ne^~Ue&sr,e[32]=ve^~ke&Le,e[33]=Cr^~xr&Or,e[42]=De^~rr&kr,e[43]=Br^~nr&Ee,e[4]=Nr^~Jt&or,e[5]=Oe^~Zt&ar,e[14]=be^~Ae&Be,e[15]=we^~Ie&$e,e[24]=je^~ir&Se,e[25]=Ue^~sr&Ar,e[34]=ke^~Le&Kt,e[35]=xr^~Or&Qt,e[44]=rr^~kr&Tr,e[45]=nr^~Ee&xe,e[6]=Jt^~or&at,e[7]=Zt^~ar&me,e[16]=Ae^~Be&Lr,e[17]=Ie^~$e&Fe,e[26]=ir^~Se&Re,e[27]=sr^~Ar&Me,e[36]=Le^~Kt&Yt,e[37]=Or^~Qt&Xt,e[46]=kr^~Tr&Te,e[47]=Ee^~xe&Pr,e[8]=or^~at&Ir,e[9]=ar^~me&Ce,e[18]=Be^~Lr&er,e[19]=$e^~Fe&tr,e[28]=Se^~Re&Pe,e[29]=Ar^~Me&Ne,e[38]=Kt^~Yt&ve,e[39]=Qt^~Xt&Cr,e[48]=Tr^~Te&De,e[49]=xe^~Pr&Br,e[0]^=nl[t*2],e[1]^=nl[t*2+1]}};const Bi=jh;function _n(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}_n.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};_n.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Bi.p1600(this.state),this.count=0)};_n.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&Bi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Bi.p1600(this.state),this.count=0,this.squeezing=!0};_n.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Bi.p1600(this.state),this.count=0);return t};_n.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var k_=_n,A_=C_(k_);const I_=A_,x_=qi;function Uh(e){return Buffer.allocUnsafe(e).fill(0)}function Hh(e,t,r){const n=Uh(t);return e=ms(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function T_(e,t){return Hh(e,t,!0)}function ms(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")Wh(e)?e=Buffer.from(O_(qh(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(x_.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function P_(e){return e=ms(e),"0x"+e.toString("hex")}function N_(e,t){return e=ms(e),t||(t=256),I_("keccak"+t).update(e).digest()}function O_(e){return e.length%2?"0"+e:e}function Wh(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function qh(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var Vh={zeros:Uh,setLength:Hh,setLengthRight:T_,isHexString:Wh,stripHexPrefix:qh,toBuffer:ms,bufferToHex:P_,keccak:N_};const vr=Vh,gr=qi;function zh(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Zr(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function il(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Gh(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function dr(e){var t=typeof e;if(t==="string")return vr.isHexString(e)?new gr(vr.stripHexPrefix(e),16):new gr(e,10);if(t==="number")return new gr(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function kt(e,t){var r,n,i,s;if(e==="address")return kt("uint160",dr(t));if(e==="bool")return kt("uint8",t?1:0);if(e==="string")return kt("bytes",new Buffer(t,"utf8"));if(B_(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Gh(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(s in t)i.push(kt(e,t[s]));if(r==="dynamic"){var o=kt("uint256",t.length);i.unshift(o)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([kt("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,vr.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=Zr(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return vr.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Zr(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=dr(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(r=Zr(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=dr(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=il(e),n=dr(t),n<0)throw new Error("Supplied ufixed is negative");return kt("uint256",n.mul(new gr(2).pow(new gr(r[1]))))}else if(e.startsWith("fixed"))return r=il(e),kt("int256",dr(t).mul(new gr(2).pow(new gr(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function L_(e){return e==="string"||e==="bytes"||Gh(e)==="dynamic"}function B_(e){return e.lastIndexOf("]")===e.length-1}function $_(e,t){var r=[],n=[],i=32*e.length;for(var s in e){var o=zh(e[s]),c=t[s],l=kt(o,c);L_(o)?(r.push(kt("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function Jh(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<e.length;s++){var o=zh(e[s]),c=t[s];if(o==="bytes")i.push(c);else if(o==="string")i.push(new Buffer(c,"utf8"));else if(o==="bool")i.push(new Buffer(c?"01":"00","hex"));else if(o==="address")i.push(vr.setLength(c,20));else if(o.startsWith("bytes")){if(r=Zr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(vr.setLengthRight(c,r))}else if(o.startsWith("uint")){if(r=Zr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=dr(c),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Zr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=dr(c),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function F_(e,t){return vr.keccak(Jh(e,t))}var D_={rawEncode:$_,solidityPack:Jh,soliditySHA3:F_};const vt=Vh,Mn=D_,Zh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ko={encodeData(e,t,r,n=!0){const i=["bytes32"],s=[this.hashType(e,r)];if(n){const o=(c,l,h)=>{if(r[l]!==void 0)return["bytes32",h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":vt.keccak(this.encodeData(l,h,r,n))];if(h===void 0)throw new Error(`missing value for field ${c} of type ${l}`);if(l==="bytes")return["bytes32",vt.keccak(h)];if(l==="string")return typeof h=="string"&&(h=Buffer.from(h,"utf8")),["bytes32",vt.keccak(h)];if(l.lastIndexOf("]")===l.length-1){const d=l.slice(0,l.lastIndexOf("[")),p=h.map(_=>o(c,d,_));return["bytes32",vt.keccak(Mn.rawEncode(p.map(([_])=>_),p.map(([,_])=>_)))]}return[l,h]};for(const c of r[e]){const[l,h]=o(c.name,c.type,t[c.name]);i.push(l),s.push(h)}}else for(const o of r[e]){let c=t[o.name];if(c!==void 0)if(o.type==="bytes")i.push("bytes32"),c=vt.keccak(c),s.push(c);else if(o.type==="string")i.push("bytes32"),typeof c=="string"&&(c=Buffer.from(c,"utf8")),c=vt.keccak(c),s.push(c);else if(r[o.type]!==void 0)i.push("bytes32"),c=vt.keccak(this.encodeData(o.type,c,r,n)),s.push(c);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(c)}}return Mn.rawEncode(i,s)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(i=>i!==e);n=[e].concat(n.sort());for(const i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:o,type:c})=>c+" "+o).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const i of this.findTypeDependencies(n.type,t,r))!r.includes(i)&&r.push(i);return r},hashStruct(e,t,r,n=!0){return vt.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return vt.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Zh.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),vt.keccak(Buffer.concat(n))}};var j_={TYPED_MESSAGE_SCHEMA:Zh,TypedDataUtils:ko,hashForSignTypedDataLegacy:function(e){return U_(e.data)},hashForSignTypedData_v3:function(e){return ko.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return ko.hash(e.data)}};function U_(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(s){return s.type==="bytes"?vt.toBuffer(s.value):s.value}),n=e.map(function(s){return s.type}),i=e.map(function(s){if(!s.name)throw t;return s.type+" "+s.name});return Mn.soliditySHA3(["bytes32","bytes32"],[Mn.soliditySHA3(new Array(e.length).fill("string"),i),Mn.soliditySHA3(n,r)])}var an={};Object.defineProperty(an,"__esModule",{value:!0});an.filterFromParam=an.FilterPolyfill=void 0;const Vr=Je,nt=z,H_=5*60*1e3,pr={jsonrpc:"2.0",id:0};class W_{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Vr.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=Kh(t),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return this.logFilters.set(n,r),this.setFilterTimeout(n),(0,nt.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return this.blockFilters.add(t),this.setFilterTimeout(t),(0,nt.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,nt.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,nt.intNumberFromHexString)(t);return this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,nt.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(yi())}async getFilterLogs(t){const r=(0,nt.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getLogs",params:[sl(n)]})):yi()}makeFilterId(){return(0,Vr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(t){this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return yi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>Number(r.toBlock))return mi();const o=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getLogs",params:[sl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const c=o.result.map(h=>(0,nt.intNumberFromHexString)(h.blockNumber||"0x0")),l=Math.max(...c);if(l&&l>n){const h=(0,Vr.IntNumber)(l+1);this.cursors.set(t,h)}}return o}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return yi();const n=await this.getCurrentBlockHeight();if(r>n)return mi();const i=(await Promise.all((0,nt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Vr.IntNumber)(o))))).filter(o=>!!o),s=(0,Vr.IntNumber)(r+i.length);return this.cursors.set(t,s),Object.assign(Object.assign({},pr),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(mi())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,i),i}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{this.deleteFilter(t)},H_);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_blockNumber",params:[]}));return(0,nt.intNumberFromHexString)((0,nt.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getBlockByNumber",params:[(0,nt.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,nt.ensureHexString)(r.result.hash):null}}an.FilterPolyfill=W_;function Kh(e){return{fromBlock:ol(e.fromBlock),toBlock:ol(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}an.filterFromParam=Kh;function sl(e){const t={fromBlock:al(e.fromBlock),toBlock:al(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function ol(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,Vr.IntNumber)(0);if((0,nt.isHexString)(e))return(0,nt.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function al(e){return e==="latest"?e:(0,nt.hexStringFromIntNumber)(e)}function yi(){return Object.assign(Object.assign({},pr),{error:{code:-32e3,message:"filter not found"}})}function mi(){return Object.assign(Object.assign({},pr),{result:[]})}var vs={},Qh={},bs={},Ma=q_;function q_(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const cl=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{t.errorFirst?n.push(function(o,c){if(t.multiArgs){const l=new Array(arguments.length-1);for(let h=1;h<arguments.length;h++)l[h-1]=arguments[h];o?(l.unshift(o),s(l)):i(l)}else o?s(o):i(c)}):n.push(function(o){if(t.multiArgs){const c=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)c[l]=arguments[l];i(c)}else i(o)}),e.apply(this,n)})};var V_=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return t.include?t.include.some(s):!t.exclude.some(s)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):cl(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];n[i]=typeof s=="function"&&r(i)?cl(s,t):s}return n},ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});const z_=ji;function ll(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function G_(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let J_=class extends z_.EventEmitter{emit(t,...r){let n=t==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const c=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw c.context=o,c}const s=i[t];if(s===void 0)return!1;if(typeof s=="function")ll(s,this,r);else{const o=s.length,c=G_(s);for(let l=0;l<o;l+=1)ll(c[l],this,r)}return!0}};ti.default=J_;var Z_=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ei,"__esModule",{value:!0});ei.BaseBlockTracker=void 0;const K_=Z_(ti),Q_=1e3,Y_=(e,t)=>e+t,ul=["sync","latest"];class X_ extends K_.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*Q_,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){ul.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ul.map(t=>this.listenerCount(t)).reduce(Y_)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=hl(t),i=hl(r);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ei.BaseBlockTracker=X_;function hl(e){return Number.parseInt(e,16)}var Yh={},Xh={},tt={};class ef extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:c}=t,l=c.length===0?i:`At path: ${c.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function ey(e){return _t(e)&&typeof e[Symbol.iterator]=="function"}function _t(e){return typeof e=="object"&&e!=null}function fl(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Ze(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function ty(e){const{done:t,value:r}=e.next();return t?void 0:r}function ry(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:c,message:l=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${Ze(n)}\``}=e;return{value:n,type:o,refinement:c,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*Zo(e,t,r,n){ey(e)||(e=[e]);for(const i of e){const s=ry(i,t,r,n);s&&(yield s)}}function*Ca(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,c={path:n,branch:i};if(s&&(e=t.coercer(e,c),o&&t.type!=="type"&&_t(t.schema)&&_t(e)&&!Array.isArray(e)))for(const h in e)t.schema[h]===void 0&&delete e[h];let l="valid";for(const h of t.validator(e,c))h.explanation=r.message,l="not_valid",yield[h,void 0];for(let[h,d,p]of t.entries(e,c)){const _=Ca(d,p,{path:h===void 0?n:[...n,h],branch:h===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const M of _)M[0]?(l=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):s&&(d=M[1],h===void 0?e=d:e instanceof Map?e.set(h,d):e instanceof Set?e.add(d):_t(e)&&(d!==void 0||h in e)&&(e[h]=d))}if(l!=="not_valid")for(const h of t.refiner(e,c))h.explanation=r.message,l="not_refined",yield[h,void 0];l==="valid"&&(yield[void 0,e])}class ze{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=l=>l,entries:c=function*(){}}=t;this.type=r,this.schema=n,this.entries=c,this.coercer=o,i?this.validator=(l,h)=>{const d=i(l,h);return Zo(d,h,this,l)}:this.validator=()=>[],s?this.refiner=(l,h)=>{const d=s(l,h);return Zo(d,h,this,l)}:this.refiner=()=>[]}assert(t,r){return tf(t,this,r)}create(t,r){return rf(t,this,r)}is(t){return ka(t,this)}mask(t,r){return nf(t,this,r)}validate(t,r={}){return yn(t,this,r)}}function tf(e,t,r){const n=yn(e,t,{message:r});if(n[0])throw n[0]}function rf(e,t,r){const n=yn(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function nf(e,t,r){const n=yn(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function ka(e,t){return!yn(e,t)[0]}function yn(e,t,r={}){const n=Ca(e,t,r),i=ty(n);return i[0]?[new ef(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ny(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?ni(n):ri(n)}function ot(e,t){return new ze({type:e,schema:null,validator:t})}function iy(e,t){return new ze({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function sy(e){return new ze({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function oy(e){let t;return new ze({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function ay(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return ni(n);default:return ri(n)}}function cy(e){const t=e instanceof ze,r=t?{...e.schema}:{...e};for(const n in r)r[n]=sf(r[n]);return t&&e.type==="type"?ni(r):ri(r)}function ly(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return ni(n);default:return ri(n)}}function uy(e,t){return ot(e,t)}function hy(){return ot("any",()=>!0)}function fy(e){return new ze({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Ze(t)}`}})}function dy(){return ot("bigint",e=>typeof e=="bigint")}function py(){return ot("boolean",e=>typeof e=="boolean")}function gy(){return ot("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Ze(e)}`)}function _y(e){const t={},r=e.map(n=>Ze(n)).join();for(const n of e)t[n]=n;return new ze({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Ze(n)}`}})}function yy(){return ot("func",e=>typeof e=="function"||`Expected a function, but received: ${Ze(e)}`)}function my(e){return ot("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Ze(t)}`)}function vy(){return ot("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Ze(e)}`)}function by(e){return new ze({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function wy(e){const t=Ze(e),r=typeof e;return new ze({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Ze(n)}`}})}function Ey(e,t){return new ze({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Ze(r)}`}})}function Aa(){return ot("never",()=>!1)}function Sy(e){return new ze({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Ry(){return ot("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Ze(e)}`)}function ri(e){const t=e?Object.keys(e):[],r=Aa();return new ze({type:"object",schema:e||null,*entries(n){if(e&&_t(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return _t(n)||`Expected an object, but received: ${Ze(n)}`},coercer(n){return _t(n)?{...n}:n}})}function sf(e){return new ze({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function My(e,t){return new ze({type:"record",schema:null,*entries(r){if(_t(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return _t(r)||`Expected an object, but received: ${Ze(r)}`}})}function Cy(){return ot("regexp",e=>e instanceof RegExp)}function ky(e){return new ze({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Ze(t)}`}})}function of(){return ot("string",e=>typeof e=="string"||`Expected a string, but received: ${Ze(e)}`)}function Ay(e){const t=Aa();return new ze({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ze(r)}`}})}function ni(e){const t=Object.keys(e);return new ze({type:"type",schema:e,*entries(r){if(_t(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return _t(r)||`Expected an object, but received: ${Ze(r)}`},coercer(r){return _t(r)?{...r}:r}})}function Iy(e){const t=e.map(r=>r.type).join(" | ");return new ze({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=Ca(r,s,n),[c]=o;if(c[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ze(r)}`,...i]}})}function af(){return ot("unknown",()=>!0)}function Ia(e,t,r){return new ze({...e,coercer:(n,i)=>ka(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function xy(e,t,r={}){return Ia(e,af(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&fl(n)&&fl(i)){const s={...n};let o=!1;for(const c in i)s[c]===void 0&&(s[c]=i[c],o=!0);if(o)return s}return n})}function Ty(e){return Ia(e,of(),t=>t.trim())}function Py(e){return Rr(e,"empty",t=>{const r=cf(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function cf(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ny(e,t,r={}){const{exclusive:n}=r;return Rr(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Oy(e,t,r={}){const{exclusive:n}=r;return Rr(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Ly(e){return Rr(e,"nonempty",t=>cf(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function By(e,t){return Rr(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function $y(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Rr(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Rr(e,t,r){return new ze({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Zo(s,i,e,n);for(const c of o)yield{...c,refinement:t}}})}const Fy=Object.freeze(Object.defineProperty({__proto__:null,Struct:ze,StructError:ef,any:hy,array:fy,assert:tf,assign:ny,bigint:dy,boolean:py,coerce:Ia,create:rf,date:gy,defaulted:xy,define:ot,deprecated:iy,dynamic:sy,empty:Py,enums:_y,func:yy,instance:my,integer:vy,intersection:by,is:ka,lazy:oy,literal:wy,map:Ey,mask:nf,max:Ny,min:Oy,never:Aa,nonempty:Ly,nullable:Sy,number:Ry,object:ri,omit:ay,optional:sf,partial:cy,pattern:By,pick:ly,record:My,refine:Rr,regexp:Cy,set:ky,size:$y,string:of,struct:uy,trimmed:Ty,tuple:Ay,type:ni,union:Iy,unknown:af,validate:yn},Symbol.toStringTag,{value:"Module"})),Mr=un(Fy);Object.defineProperty(tt,"__esModule",{value:!0});tt.assertExhaustive=tt.assertStruct=tt.assert=tt.AssertionError=void 0;const Dy=Mr;function jy(e){return typeof e=="object"&&e!==null&&"message"in e}function Uy(e){var t,r;return typeof((r=(t=e?.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function Hy(e){const t=jy(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function lf(e,t){return Uy(e)?new e({message:t}):e({message:t})}class xa extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}tt.AssertionError=xa;function Wy(e,t="Assertion failed.",r=xa){if(!e)throw t instanceof Error?t:lf(r,t)}tt.assert=Wy;function qy(e,t,r="Assertion failed",n=xa){try{(0,Dy.assert)(e,t)}catch(i){throw lf(n,`${r}: ${Hy(i)}.`)}}tt.assertStruct=qy;function Vy(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}tt.assertExhaustive=Vy;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.base64=void 0;const zy=Mr,Gy=tt,Jy=(e,t={})=>{var r,n;const i=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Gy.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let c;return i?c=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):c=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,zy.pattern)(e,c)};ii.base64=Jy;var ce={},si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=Mr,r=tt;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(h){return(0,t.is)(h,e.HexStruct)}e.isHexString=n;function i(h){return(0,t.is)(h,e.StrictHexStruct)}e.isStrictHexString=i;function s(h){(0,r.assert)(n(h),"Value must be a hexadecimal string.")}e.assertIsHexString=s;function o(h){(0,r.assert)(i(h),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=o;function c(h){return h.startsWith("0x")?h:h.startsWith("0X")?`0x${h.substring(2)}`:`0x${h}`}e.add0x=c;function l(h){return h.startsWith("0x")||h.startsWith("0X")?h.substring(2):h}e.remove0x=l})(si);Object.defineProperty(ce,"__esModule",{value:!0});ce.createDataView=ce.concatBytes=ce.valueToBytes=ce.stringToBytes=ce.numberToBytes=ce.signedBigIntToBytes=ce.bigIntToBytes=ce.hexToBytes=ce.bytesToString=ce.bytesToNumber=ce.bytesToSignedBigInt=ce.bytesToBigInt=ce.bytesToHex=ce.assertIsBytes=ce.isBytes=void 0;const ut=tt,Ko=si,dl=48,pl=58,gl=87;function Zy(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const Ky=Zy();function Ta(e){return e instanceof Uint8Array}ce.isBytes=Ta;function mn(e){(0,ut.assert)(Ta(e),"Value must be a Uint8Array.")}ce.assertIsBytes=mn;function uf(e){if(mn(e),e.length===0)return"0x";const t=Ky(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Ko.add0x)(r.join(""))}ce.bytesToHex=uf;function hf(e){mn(e);const t=uf(e);return BigInt(t)}ce.bytesToBigInt=hf;function Qy(e){mn(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}ce.bytesToSignedBigInt=Qy;function Yy(e){mn(e);const t=hf(e);return(0,ut.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}ce.bytesToNumber=Yy;function Xy(e){return mn(e),new TextDecoder().decode(e)}ce.bytesToString=Xy;function ws(e){var t;if(((t=e?.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Ko.assertIsHexString)(e);const r=(0,Ko.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),c=n.charCodeAt(s*2+1),l=o-(o<pl?dl:gl),h=c-(c<pl?dl:gl);i[s]=l*16+h}return i}ce.hexToBytes=ws;function ff(e){(0,ut.assert)(typeof e=="bigint","Value must be a bigint."),(0,ut.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return ws(t)}ce.bigIntToBytes=ff;function em(e,t){(0,ut.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function tm(e,t){(0,ut.assert)(typeof e=="bigint","Value must be a bigint."),(0,ut.assert)(typeof t=="number","Byte length must be a number."),(0,ut.assert)(t>0,"Byte length must be greater than 0."),(0,ut.assert)(em(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ce.signedBigIntToBytes=tm;function df(e){(0,ut.assert)(typeof e=="number","Value must be a number."),(0,ut.assert)(e>=0,"Value must be a non-negative number."),(0,ut.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return ws(t)}ce.numberToBytes=df;function pf(e){return(0,ut.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}ce.stringToBytes=pf;function gf(e){if(typeof e=="bigint")return ff(e);if(typeof e=="number")return df(e);if(typeof e=="string")return e.startsWith("0x")?ws(e):pf(e);if(Ta(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}ce.valueToBytes=gf;function rm(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=gf(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}ce.concatBytes=rm;function nm(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}ce.createDataView=nm;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.ChecksumStruct=void 0;const _l=Mr,im=ii;Es.ChecksumStruct=(0,_l.size)((0,im.base64)((0,_l.string)(),{paddingRequired:!0}),44,44);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createHex=Pt.createBytes=Pt.createBigInt=Pt.createNumber=void 0;const Ve=Mr,sm=tt,_f=ce,Ss=si,yf=(0,Ve.union)([(0,Ve.number)(),(0,Ve.bigint)(),(0,Ve.string)(),Ss.StrictHexStruct]),om=(0,Ve.coerce)((0,Ve.number)(),yf,Number),am=(0,Ve.coerce)((0,Ve.bigint)(),yf,BigInt);(0,Ve.union)([Ss.StrictHexStruct,(0,Ve.instance)(Uint8Array)]);const cm=(0,Ve.coerce)((0,Ve.instance)(Uint8Array),(0,Ve.union)([Ss.StrictHexStruct]),_f.hexToBytes),lm=(0,Ve.coerce)(Ss.StrictHexStruct,(0,Ve.instance)(Uint8Array),_f.bytesToHex);function um(e){try{const t=(0,Ve.create)(e,om);return(0,sm.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Ve.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}Pt.createNumber=um;function hm(e){try{return(0,Ve.create)(e,am)}catch(t){throw t instanceof Ve.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}Pt.createBigInt=hm;function fm(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ve.create)(e,cm)}catch(t){throw t instanceof Ve.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Pt.createBytes=fm;function dm(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,Ve.create)(e,lm)}catch(t){throw t instanceof Ve.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Pt.createHex=dm;var cn={},mf=G&&G.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},it=G&&G.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},mt,Rt;Object.defineProperty(cn,"__esModule",{value:!0});cn.FrozenSet=cn.FrozenMap=void 0;class Pa{constructor(t){mt.set(this,void 0),mf(this,mt,new Map(t),"f"),Object.freeze(this)}get size(){return it(this,mt,"f").size}[(mt=new WeakMap,Symbol.iterator)](){return it(this,mt,"f")[Symbol.iterator]()}entries(){return it(this,mt,"f").entries()}forEach(t,r){return it(this,mt,"f").forEach((n,i,s)=>t.call(r,n,i,this))}get(t){return it(this,mt,"f").get(t)}has(t){return it(this,mt,"f").has(t)}keys(){return it(this,mt,"f").keys()}values(){return it(this,mt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}cn.FrozenMap=Pa;class Na{constructor(t){Rt.set(this,void 0),mf(this,Rt,new Set(t),"f"),Object.freeze(this)}get size(){return it(this,Rt,"f").size}[(Rt=new WeakMap,Symbol.iterator)](){return it(this,Rt,"f")[Symbol.iterator]()}entries(){return it(this,Rt,"f").entries()}forEach(t,r){return it(this,Rt,"f").forEach((n,i,s)=>t.call(r,n,i,this))}has(t){return it(this,Rt,"f").has(t)}keys(){return it(this,Rt,"f").keys()}values(){return it(this,Rt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}cn.FrozenSet=Na;Object.freeze(Pa);Object.freeze(Pa.prototype);Object.freeze(Na);Object.freeze(Na.prototype);var vf={};Object.defineProperty(vf,"__esModule",{value:!0});var bf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=Mr,r=tt,n=()=>(0,t.define)("finite number",B=>(0,t.is)(B,(0,t.number)())&&Number.isFinite(B));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(B,F)=>{function J(V,W){const Z=[...W.validator(V,F)];return Z.length>0?Z:!0}try{const V=J(B,e.UnsafeJsonStruct);return V!==!0?V:J(JSON.parse(JSON.stringify(B)),e.UnsafeJsonStruct)}catch(V){return V instanceof RangeError?"Circular reference detected":!1}});function i(B){return(0,t.is)(B,e.JsonStruct)}e.isValidJson=i;function s(B){(0,r.assertStruct)(B,e.JsonStruct,"Invalid JSON value");const F=JSON.stringify(B);return new TextEncoder().encode(F).byteLength}e.getJsonSize=s,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function o(B){return(0,t.is)(B,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=o;function c(B,F){(0,r.assertStruct)(B,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",F)}e.assertIsJsonRpcNotification=c;function l(B){return(0,t.is)(B,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=l;function h(B,F){(0,r.assertStruct)(B,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",F)}e.assertIsJsonRpcRequest=h,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function d(B){return(0,t.is)(B,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=d;function p(B,F){(0,r.assertStruct)(B,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",F)}e.assertIsPendingJsonRpcResponse=p;function _(B){return(0,t.is)(B,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=_;function M(B,F){(0,r.assertStruct)(B,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",F)}e.assertIsJsonRpcResponse=M;function O(B){return(0,t.is)(B,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=O;function T(B,F){(0,r.assertStruct)(B,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",F)}e.assertIsJsonRpcSuccess=T;function P(B){return(0,t.is)(B,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=P;function b(B,F){(0,r.assertStruct)(B,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",F)}e.assertIsJsonRpcFailure=b;function k(B){return(0,t.is)(B,e.JsonRpcErrorStruct)}e.isJsonRpcError=k;function A(B,F){(0,r.assertStruct)(B,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",F)}e.assertIsJsonRpcError=A;function L(B){const{permitEmptyString:F,permitFractions:J,permitNull:V}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},B);return te=>!!(typeof te=="number"&&(J||Number.isInteger(te))||typeof te=="string"&&(F||te.length>0)||V&&te===null)}e.getJsonRpcIdValidator=L})(bf);var wf={};Object.defineProperty(wf,"__esModule",{value:!0});var ln={},Qo={exports:{}},Ao,yl;function pm(){if(yl)return Ao;yl=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;Ao=function(d,p){p=p||{};var _=typeof d;if(_==="string"&&d.length>0)return o(d);if(_==="number"&&isFinite(d))return p.long?l(d):c(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(p){var _=parseFloat(p[1]),M=(p[2]||"ms").toLowerCase();switch(M){case"years":case"year":case"yrs":case"yr":case"y":return _*s;case"weeks":case"week":case"w":return _*i;case"days":case"day":case"d":return _*n;case"hours":case"hour":case"hrs":case"hr":case"h":return _*r;case"minutes":case"minute":case"mins":case"min":case"m":return _*t;case"seconds":case"second":case"secs":case"sec":case"s":return _*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function c(d){var p=Math.abs(d);return p>=n?Math.round(d/n)+"d":p>=r?Math.round(d/r)+"h":p>=t?Math.round(d/t)+"m":p>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var p=Math.abs(d);return p>=n?h(d,p,n,"day"):p>=r?h(d,p,r,"hour"):p>=t?h(d,p,t,"minute"):p>=e?h(d,p,e,"second"):d+" ms"}function h(d,p,_,M){var O=p>=_*1.5;return Math.round(d/_)+" "+M+(O?"s":"")}return Ao}function gm(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=c,r.humanize=pm(),r.destroy=h,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let p=0;for(let _=0;_<d.length;_++)p=(p<<5)-p+d.charCodeAt(_),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(d){let p,_=null,M,O;function T(...P){if(!T.enabled)return;const b=T,k=Number(new Date),A=k-(p||k);b.diff=A,b.prev=p,b.curr=k,p=k,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let L=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(F,J)=>{if(F==="%%")return"%";L++;const V=r.formatters[J];if(typeof V=="function"){const W=P[L];F=V.call(b,W),P.splice(L,1),L--}return F}),r.formatArgs.call(b,P),(b.log||r.log).apply(b,P)}return T.namespace=d,T.useColors=r.useColors(),T.color=r.selectColor(d),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(M!==r.namespaces&&(M=r.namespaces,O=r.enabled(d)),O),set:P=>{_=P}}),typeof r.init=="function"&&r.init(T),T}function n(d,p){const _=r(this.namespace+(typeof p>"u"?":":p)+d);return _.log=this.log,_}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const p=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const _ of p)_[0]==="-"?r.skips.push(_.slice(1)):r.names.push(_)}function s(d,p){let _=0,M=0,O=-1,T=0;for(;_<d.length;)if(M<p.length&&(p[M]===d[_]||p[M]==="*"))p[M]==="*"?(O=M,T=_,M++):(_++,M++);else if(O!==-1)M=O+1,T++,_=T;else return!1;for(;M<p.length&&p[M]==="*";)M++;return M===p.length}function o(){const d=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),d}function c(d){for(const p of r.skips)if(s(d,p))return!1;for(const p of r.names)if(s(d,p))return!0;return!1}function l(d){return d instanceof Error?d.stack||d.message:d}function h(){}return r.enable(r.load()),r}var _m=gm;(function(e,t){var r={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=n,t.storage=c(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;h.splice(1,0,d,"color: inherit");let p=0,_=0;h[0].replace(/%[a-zA-Z%]/g,M=>{M!=="%%"&&(p++,M==="%c"&&(_=p))}),h.splice(_,0,d)}t.log=console.debug||console.log||(()=>{});function s(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function o(){let h;try{h=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function c(){try{return localStorage}catch{}}e.exports=_m(t);const{formatters:l}=e.exports;l.j=function(h){try{return JSON.stringify(h)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Qo,Qo.exports);var ym=Qo.exports,mm=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});ln.createModuleLogger=ln.createProjectLogger=void 0;const vm=mm(ym),bm=(0,vm.default)("metamask");function wm(e){return bm.extend(e)}ln.createProjectLogger=wm;function Em(e,t){return e.extend(t)}ln.createModuleLogger=Em;var Ef={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(h){return Array.isArray(h)&&h.length>0}e.isNonEmptyArray=t;function r(h){return h==null}e.isNullOrUndefined=r;function n(h){return!!h&&typeof h=="object"&&!Array.isArray(h)}e.isObject=n;const i=(h,d)=>Object.hasOwnProperty.call(h,d);e.hasProperty=i,function(h){h[h.Null=4]="Null",h[h.Comma=1]="Comma",h[h.Wrapper=1]="Wrapper",h[h.True=4]="True",h[h.False=5]="False",h[h.Quote=1]="Quote",h[h.Colon=1]="Colon",h[h.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(h){if(typeof h!="object"||h===null)return!1;try{let d=h;for(;Object.getPrototypeOf(d)!==null;)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(h)===d}catch{return!1}}e.isPlainObject=s;function o(h){return h.charCodeAt(0)<=127}e.isASCII=o;function c(h){var d;return h.split("").reduce((_,M)=>o(M)?_+1:_+2,0)+((d=h.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&d!==void 0?d:[]).length}e.calculateStringSize=c;function l(h){return h.toString().length}e.calculateNumberSize=l})(Ef);var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.hexToBigInt=Nt.hexToNumber=Nt.bigIntToHex=Nt.numberToHex=void 0;const Kr=tt,xn=si,Sm=e=>((0,Kr.assert)(typeof e=="number","Value must be a number."),(0,Kr.assert)(e>=0,"Value must be a non-negative number."),(0,Kr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,xn.add0x)(e.toString(16)));Nt.numberToHex=Sm;const Rm=e=>((0,Kr.assert)(typeof e=="bigint","Value must be a bigint."),(0,Kr.assert)(e>=0,"Value must be a non-negative bigint."),(0,xn.add0x)(e.toString(16)));Nt.bigIntToHex=Rm;const Mm=e=>{(0,xn.assertIsHexString)(e);const t=parseInt(e,16);return(0,Kr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Nt.hexToNumber=Mm;const Cm=e=>((0,xn.assertIsHexString)(e),BigInt((0,xn.add0x)(e)));Nt.hexToBigInt=Cm;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});var Rf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!t(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}e.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}e.timeSince=i})(Rf);var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});var Cf={},Yo={exports:{}};const km="2.0.0",kf=256,Am=Number.MAX_SAFE_INTEGER||9007199254740991,Im=16,xm=kf-6,Tm=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Rs={MAX_LENGTH:kf,MAX_SAFE_COMPONENT_LENGTH:Im,MAX_SAFE_BUILD_LENGTH:xm,MAX_SAFE_INTEGER:Am,RELEASE_TYPES:Tm,SEMVER_SPEC_VERSION:km,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Io={};const Pm=typeof process=="object"&&Io&&Io.NODE_DEBUG&&/\bsemver\b/i.test(Io.NODE_DEBUG)?(...e)=>{}:()=>{};var Ms=Pm;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Rs,s=Ms;t=e.exports={};const o=t.re=[],c=t.safeRe=[],l=t.src=[],h=t.safeSrc=[],d=t.t={};let p=0;const _="[a-zA-Z0-9-]",M=[["\\s",1],["\\d",i],[_,n]],O=P=>{for(const[b,k]of M)P=P.split(`${b}*`).join(`${b}{0,${k}}`).split(`${b}+`).join(`${b}{1,${k}}`);return P},T=(P,b,k)=>{const A=O(b),L=p++;s(P,L,b),d[P]=L,l[L]=b,h[L]=A,o[L]=new RegExp(b,k?"g":void 0),c[L]=new RegExp(A,k?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*"),T("NUMERICIDENTIFIERLOOSE","\\d+"),T("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),T("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),T("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),T("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),T("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),T("BUILDIDENTIFIER",`${_}+`),T("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),T("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),T("FULL",`^${l[d.FULLPLAIN]}$`),T("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),T("LOOSE",`^${l[d.LOOSEPLAIN]}$`),T("GTLT","((?:<|>)?=?)"),T("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),T("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),T("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),T("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),T("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),T("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),T("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),T("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),T("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),T("COERCERTL",l[d.COERCE],!0),T("COERCERTLFULL",l[d.COERCEFULL],!0),T("LONETILDE","(?:~>?)"),T("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",T("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),T("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),T("LONECARET","(?:\\^)"),T("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",T("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),T("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),T("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),T("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),T("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",T("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),T("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),T("STAR","(<|>)?=?\\s*\\*"),T("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),T("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Yo,Yo.exports);var oi=Yo.exports;const Nm=Object.freeze({loose:!0}),Om=Object.freeze({}),Lm=e=>e?typeof e!="object"?Nm:e:Om;var Oa=Lm;const ml=/^[0-9]+$/,Af=(e,t)=>{const r=ml.test(e),n=ml.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Bm=(e,t)=>Af(t,e);var If={compareIdentifiers:Af,rcompareIdentifiers:Bm};const vi=Ms,{MAX_LENGTH:vl,MAX_SAFE_INTEGER:bi}=Rs,{safeRe:wi,t:Ei}=oi,$m=Oa,{compareIdentifiers:Hr}=If;let Fm=class Mt{constructor(t,r){if(r=$m(r),t instanceof Mt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>vl)throw new TypeError(`version is longer than ${vl} characters`);vi("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?wi[Ei.LOOSE]:wi[Ei.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>bi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<bi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(vi("SemVer.compare",this.version,this.options,t),!(t instanceof Mt)){if(typeof t=="string"&&t===this.version)return 0;t=new Mt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Mt||(t=new Mt(t,this.options)),Hr(this.major,t.major)||Hr(this.minor,t.minor)||Hr(this.patch,t.patch)}comparePre(t){if(t instanceof Mt||(t=new Mt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(vi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hr(n,i)}while(++r)}compareBuild(t){t instanceof Mt||(t=new Mt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(vi("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hr(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const i=`-${r}`.match(this.options.loose?wi[Ei.PRERELEASELOOSE]:wi[Ei.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Hr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ai=Fm;const bl=ai,Dm=(e,t,r=!1)=>{if(e instanceof bl)return e;try{return new bl(e,t)}catch(n){if(!r)return null;throw n}};var jm=Dm;const Um=jm,Hm=(e,t)=>{const r=Um(e,t);return r?r.version:null};var Wm=Hm;const wl=ai,qm=(e,t,r)=>new wl(e,r).compare(new wl(t,r));var vn=qm;const Vm=vn,zm=(e,t,r)=>Vm(e,t,r)>0;var La=zm;const Gm=vn,Jm=(e,t,r)=>Gm(e,t,r)<0;var xf=Jm;const Zm=vn,Km=(e,t,r)=>Zm(e,t,r)===0;var Qm=Km;const Ym=vn,Xm=(e,t,r)=>Ym(e,t,r)!==0;var ev=Xm;const tv=vn,rv=(e,t,r)=>tv(e,t,r)>=0;var Tf=rv;const nv=vn,iv=(e,t,r)=>nv(e,t,r)<=0;var Pf=iv;const sv=Qm,ov=ev,av=La,cv=Tf,lv=xf,uv=Pf,hv=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return sv(e,r,n);case"!=":return ov(e,r,n);case">":return av(e,r,n);case">=":return cv(e,r,n);case"<":return lv(e,r,n);case"<=":return uv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var fv=hv;const{safeRe:zw,t:Gw}=oi;class dv{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var pv=dv,xo,El;function wt(){if(El)return xo;El=1;const e=/\s+/g;class t{constructor(f,g){if(g=i(g),f instanceof t)return f.loose===!!g.loose&&f.includePrerelease===!!g.includePrerelease?f:new t(f.raw,g);if(f instanceof s)return this.raw=f.value,this.set=[[f]],this.formatted=void 0,this;if(this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease,this.raw=f.trim().replace(e," "),this.set=this.raw.split("||").map(y=>this.parseRange(y.trim())).filter(y=>y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const y=this.set[0];if(this.set=this.set.filter(v=>!T(v[0])),this.set.length===0)this.set=[y];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&P(v[0])){this.set=[v];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let f=0;f<this.set.length;f++){f>0&&(this.formatted+="||");const g=this.set[f];for(let y=0;y<g.length;y++)y>0&&(this.formatted+=" "),this.formatted+=g[y].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(f){const y=((this.options.includePrerelease&&M)|(this.options.loose&&O))+":"+f,v=n.get(y);if(v)return v;const R=this.options.loose,x=R?l[h.HYPHENRANGELOOSE]:l[h.HYPHENRANGE];f=f.replace(x,X(this.options.includePrerelease)),o("hyphen replace",f),f=f.replace(l[h.COMPARATORTRIM],d),o("comparator trim",f),f=f.replace(l[h.TILDETRIM],p),o("tilde trim",f),f=f.replace(l[h.CARETTRIM],_),o("caret trim",f);let m=f.split(" ").map(U=>k(U,this.options)).join(" ").split(/\s+/).map(U=>Z(U,this.options));R&&(m=m.filter(U=>(o("loose invalid filter",U,this.options),!!U.match(l[h.COMPARATORLOOSE])))),o("range list",m);const u=new Map,w=m.map(U=>new s(U,this.options));for(const U of w){if(T(U))return[U];u.set(U.value,U)}u.size>1&&u.has("")&&u.delete("");const q=[...u.values()];return n.set(y,q),q}intersects(f,g){if(!(f instanceof t))throw new TypeError("a Range is required");return this.set.some(y=>b(y,g)&&f.set.some(v=>b(v,g)&&y.every(R=>v.every(x=>R.intersects(x,g)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new c(f,this.options)}catch{return!1}for(let g=0;g<this.set.length;g++)if(C(this.set[g],f,this.options))return!0;return!1}}xo=t;const r=pv,n=new r,i=Oa,s=Cs(),o=Ms,c=ai,{safeRe:l,t:h,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:_}=oi,{FLAG_INCLUDE_PRERELEASE:M,FLAG_LOOSE:O}=Rs,T=a=>a.value==="<0.0.0-0",P=a=>a.value==="",b=(a,f)=>{let g=!0;const y=a.slice();let v=y.pop();for(;g&&y.length;)g=y.every(R=>v.intersects(R,f)),v=y.pop();return g},k=(a,f)=>(o("comp",a,f),a=F(a,f),o("caret",a),a=L(a,f),o("tildes",a),a=V(a,f),o("xrange",a),a=te(a,f),o("stars",a),a),A=a=>!a||a.toLowerCase()==="x"||a==="*",L=(a,f)=>a.trim().split(/\s+/).map(g=>B(g,f)).join(" "),B=(a,f)=>{const g=f.loose?l[h.TILDELOOSE]:l[h.TILDE];return a.replace(g,(y,v,R,x,m)=>{o("tilde",a,y,v,R,x,m);let u;return A(v)?u="":A(R)?u=`>=${v}.0.0 <${+v+1}.0.0-0`:A(x)?u=`>=${v}.${R}.0 <${v}.${+R+1}.0-0`:m?(o("replaceTilde pr",m),u=`>=${v}.${R}.${x}-${m} <${v}.${+R+1}.0-0`):u=`>=${v}.${R}.${x} <${v}.${+R+1}.0-0`,o("tilde return",u),u})},F=(a,f)=>a.trim().split(/\s+/).map(g=>J(g,f)).join(" "),J=(a,f)=>{o("caret",a,f);const g=f.loose?l[h.CARETLOOSE]:l[h.CARET],y=f.includePrerelease?"-0":"";return a.replace(g,(v,R,x,m,u)=>{o("caret",a,v,R,x,m,u);let w;return A(R)?w="":A(x)?w=`>=${R}.0.0${y} <${+R+1}.0.0-0`:A(m)?R==="0"?w=`>=${R}.${x}.0${y} <${R}.${+x+1}.0-0`:w=`>=${R}.${x}.0${y} <${+R+1}.0.0-0`:u?(o("replaceCaret pr",u),R==="0"?x==="0"?w=`>=${R}.${x}.${m}-${u} <${R}.${x}.${+m+1}-0`:w=`>=${R}.${x}.${m}-${u} <${R}.${+x+1}.0-0`:w=`>=${R}.${x}.${m}-${u} <${+R+1}.0.0-0`):(o("no pr"),R==="0"?x==="0"?w=`>=${R}.${x}.${m}${y} <${R}.${x}.${+m+1}-0`:w=`>=${R}.${x}.${m}${y} <${R}.${+x+1}.0-0`:w=`>=${R}.${x}.${m} <${+R+1}.0.0-0`),o("caret return",w),w})},V=(a,f)=>(o("replaceXRanges",a,f),a.split(/\s+/).map(g=>W(g,f)).join(" ")),W=(a,f)=>{a=a.trim();const g=f.loose?l[h.XRANGELOOSE]:l[h.XRANGE];return a.replace(g,(y,v,R,x,m,u)=>{o("xRange",a,y,v,R,x,m,u);const w=A(R),q=w||A(x),U=q||A(m),I=U;return v==="="&&I&&(v=""),u=f.includePrerelease?"-0":"",w?v===">"||v==="<"?y="<0.0.0-0":y="*":v&&I?(q&&(x=0),m=0,v===">"?(v=">=",q?(R=+R+1,x=0,m=0):(x=+x+1,m=0)):v==="<="&&(v="<",q?R=+R+1:x=+x+1),v==="<"&&(u="-0"),y=`${v+R}.${x}.${m}${u}`):q?y=`>=${R}.0.0${u} <${+R+1}.0.0-0`:U&&(y=`>=${R}.${x}.0${u} <${R}.${+x+1}.0-0`),o("xRange return",y),y})},te=(a,f)=>(o("replaceStars",a,f),a.trim().replace(l[h.STAR],"")),Z=(a,f)=>(o("replaceGTE0",a,f),a.trim().replace(l[f.includePrerelease?h.GTE0PRE:h.GTE0],"")),X=a=>(f,g,y,v,R,x,m,u,w,q,U,I)=>(A(y)?g="":A(v)?g=`>=${y}.0.0${a?"-0":""}`:A(R)?g=`>=${y}.${v}.0${a?"-0":""}`:x?g=`>=${g}`:g=`>=${g}${a?"-0":""}`,A(w)?u="":A(q)?u=`<${+w+1}.0.0-0`:A(U)?u=`<${w}.${+q+1}.0-0`:I?u=`<=${w}.${q}.${U}-${I}`:a?u=`<${w}.${q}.${+U+1}-0`:u=`<=${u}`,`${g} ${u}`.trim()),C=(a,f,g)=>{for(let y=0;y<a.length;y++)if(!a[y].test(f))return!1;if(f.prerelease.length&&!g.includePrerelease){for(let y=0;y<a.length;y++)if(o(a[y].semver),a[y].semver!==s.ANY&&a[y].semver.prerelease.length>0){const v=a[y].semver;if(v.major===f.major&&v.minor===f.minor&&v.patch===f.patch)return!0}return!1}return!0};return xo}var To,Sl;function Cs(){if(Sl)return To;Sl=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,p){if(p=r(p),d instanceof t){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const p=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],_=d.match(p);if(!_)throw new TypeError(`Invalid comparator: ${d}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new c(_[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new c(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,p).test(d.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}To=t;const r=Oa,{safeRe:n,t:i}=oi,s=fv,o=Ms,c=ai,l=wt();return To}const gv=wt(),_v=(e,t,r)=>{try{t=new gv(t,r)}catch{return!1}return t.test(e)};var Nf=_v;wt();wt();wt();wt();const yv=wt(),mv=(e,t)=>{try{return new yv(e,t).range||"*"}catch{return null}};var vv=mv;const bv=ai,Of=Cs(),{ANY:wv}=Of,Ev=wt(),Sv=Nf,Rl=La,Ml=xf,Rv=Pf,Mv=Tf,Cv=(e,t,r,n)=>{e=new bv(e,n),t=new Ev(t,n);let i,s,o,c,l;switch(r){case">":i=Rl,s=Rv,o=Ml,c=">",l=">=";break;case"<":i=Ml,s=Mv,o=Rl,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sv(e,t,n))return!1;for(let h=0;h<t.set.length;++h){const d=t.set[h];let p=null,_=null;if(d.forEach(M=>{M.semver===wv&&(M=new Of(">=0.0.0")),p=p||M,_=_||M,i(M.semver,p.semver,n)?p=M:o(M.semver,_.semver,n)&&(_=M)}),p.operator===c||p.operator===l||(!_.operator||_.operator===c)&&s(e,_.semver))return!1;if(_.operator===l&&o(e,_.semver))return!1}return!0};var kv=Cv;const Av=kv,Iv=(e,t,r)=>Av(e,t,">",r);var xv=Iv;wt();wt();const Ba=Cs(),{ANY:Jw}=Ba;new Ba(">=0.0.0-0");new Ba(">=0.0.0");const Po=oi,Cl=Rs,kl=If,Tv=Wm,Pv=La;Cs();wt();const Nv=Nf,Ov=vv,Lv=xv;var Bv={valid:Tv,gt:Pv,satisfies:Nv,validRange:Ov,gtr:Lv,re:Po.re,src:Po.src,tokens:Po.t,SEMVER_SPEC_VERSION:Cl.SEMVER_SPEC_VERSION,RELEASE_TYPES:Cl.RELEASE_TYPES,compareIdentifiers:kl.compareIdentifiers,rcompareIdentifiers:kl.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Bv,r=Mr,n=tt;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",p=>(0,t.valid)(p)===null?`Expected SemVer version, got "${p}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",p=>(0,t.validRange)(p)===null?`Expected SemVer range, got "${p}"`:!0);function i(p){return(0,r.is)(p,e.VersionStruct)}e.isValidSemVerVersion=i;function s(p){return(0,r.is)(p,e.VersionRangeStruct)}e.isValidSemVerRange=s;function o(p){(0,n.assertStruct)(p,e.VersionStruct)}e.assertIsSemVerVersion=o;function c(p){(0,n.assertStruct)(p,e.VersionRangeStruct)}e.assertIsSemVerRange=c;function l(p,_){return(0,t.gt)(p,_)}e.gtVersion=l;function h(p,_){return(0,t.gtr)(p,_)}e.gtRange=h;function d(p,_){return(0,t.satisfies)(p,_,{includePrerelease:!0})}e.satisfiesVersionRange=d})(Cf);(function(e){var t=G&&G.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(i,s);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,c)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=G&&G.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(tt,e),r(ii,e),r(ce,e),r(Es,e),r(Pt,e),r(cn,e),r(vf,e),r(si,e),r(bf,e),r(wf,e),r(ln,e),r(Ef,e),r(Nt,e),r(Sf,e),r(Rf,e),r(Mf,e),r(Cf,e)})(Xh);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=Xh;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(Yh);var Lf=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});bs.PollingBlockTracker=void 0;const $v=Lf(Ma),Fv=Lf(V_),Dv=ei,Al=Yh,Il=(0,Al.createModuleLogger)(Al.projectLogger,"polling-block-tracker"),jv=(0,$v.default)(),Uv=1e3;class Hv extends Dv.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*Uv,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=xl(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{}const i=xl(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:jv(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),Il("Making request",t);const r=await(0,Fv.default)(n=>this._provider.sendAsync(t,n))();if(Il("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}bs.PollingBlockTracker=Hv;function xl(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var ks={},Wv=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});ks.SubscribeBlockTracker=void 0;const qv=Wv(Ma),Vv=ei,zv=(0,qv.default)();class Gv extends Vv.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:zv(),method:t,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ks.SubscribeBlockTracker=Gv;(function(e){var t=G&&G.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=G&&G.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bs,e),r(ks,e)})(Qh);var $a={},As={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.getUniqueId=void 0;const Bf=4294967295;let No=Math.floor(Math.random()*Bf);function Jv(){return No=(No+1)%Bf,No}ci.getUniqueId=Jv;Object.defineProperty(As,"__esModule",{value:!0});As.createIdRemapMiddleware=void 0;const Zv=ci;function Kv(){return(e,t,r,n)=>{const i=e.id,s=Zv.getUniqueId();e.id=s,t.id=s,r(o=>{e.id=i,t.id=i,o()})}}As.createIdRemapMiddleware=Kv;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.createAsyncMiddleware=void 0;function Qv(e){return async(t,r,n,i)=>{let s;const o=new Promise(d=>{s=d});let c=null,l=!1;const h=async()=>{l=!0,n(d=>{c=d,s()}),await o};try{await e(t,r,h),l?(await o,c(null)):i(null)}catch(d){c?c(d):i(d)}}}Is.createAsyncMiddleware=Qv;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.createScaffoldMiddleware=void 0;function Yv(e){return(t,r,n,i)=>{const s=e[t.method];return s===void 0?n():typeof s=="function"?s(t,r,n,i):(r.result=s,i())}}xs.createScaffoldMiddleware=Yv;var li={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const Xv=ji;function Tl(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function eb(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let tb=class extends Xv.EventEmitter{emit(t,...r){let n=t==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const c=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw c.context=o,c}const s=i[t];if(s===void 0)return!1;if(typeof s=="function")Tl(s,this,r);else{const o=s.length,c=eb(s);for(let l=0;l<o;l+=1)Tl(c[l],this,r)}return!0}};Fa.default=tb;var $f={},zt={},rb=Tn;Tn.default=Tn;Tn.stable=jf;Tn.stableStringify=jf;var $i="[...]",Ff="[Circular]",br=[],_r=[];function Df(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Tn(e,t,r,n){typeof n>"u"&&(n=Df()),Xo(e,"",0,[],void 0,0,n);var i;try{_r.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,Uf(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;br.length!==0;){var s=br.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Qr(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),br.push([n,r,t,i])):_r.push([t,r,e]):(n[r]=e,br.push([n,r,t]))}function Xo(e,t,r,n,i,s,o){s+=1;var c;if(typeof e=="object"&&e!==null){for(c=0;c<n.length;c++)if(n[c]===e){Qr(Ff,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Qr($i,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Qr($i,e,t,i);return}if(n.push(e),Array.isArray(e))for(c=0;c<e.length;c++)Xo(e[c],c,c,n,e,s,o);else{var l=Object.keys(e);for(c=0;c<l.length;c++){var h=l[c];Xo(e[h],h,c,n,e,s,o)}}n.pop()}}function nb(e,t){return e<t?-1:e>t?1:0}function jf(e,t,r,n){typeof n>"u"&&(n=Df());var i=ea(e,"",0,[],void 0,0,n)||e,s;try{_r.length===0?s=JSON.stringify(i,t,r):s=JSON.stringify(i,Uf(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;br.length!==0;){var o=br.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ea(e,t,r,n,i,s,o){s+=1;var c;if(typeof e=="object"&&e!==null){for(c=0;c<n.length;c++)if(n[c]===e){Qr(Ff,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Qr($i,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Qr($i,e,t,i);return}if(n.push(e),Array.isArray(e))for(c=0;c<e.length;c++)ea(e[c],c,c,n,e,s,o);else{var l={},h=Object.keys(e).sort(nb);for(c=0;c<h.length;c++){var d=h[c];ea(e[d],d,c,n,e,s,o),l[d]=e[d]}if(typeof i<"u")br.push([i,t,e]),i[t]=l;else return l}n.pop()}}function Uf(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(_r.length>0)for(var n=0;n<_r.length;n++){var i=_r[n];if(i[1]===t&&i[0]===r){r=i[2],_r.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(zt,"__esModule",{value:!0});zt.EthereumProviderError=zt.EthereumRpcError=void 0;const ib=rb;class Hf extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return ib.default(this.serialize(),ab,2)}}zt.EthereumRpcError=Hf;class sb extends Hf{constructor(t,r,n){if(!ob(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}zt.EthereumProviderError=sb;function ob(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function ab(e,t){if(t!=="[Circular]")return t}var Da={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.errorValues=Gt.errorCodes=void 0;Gt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Gt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Gt,r=zt,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(_,M=i){if(Number.isInteger(_)){const O=_.toString();if(p(t.errorValues,O))return t.errorValues[O].message;if(h(_))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return M}e.getMessageFromCode=o;function c(_){if(!Number.isInteger(_))return!1;const M=_.toString();return!!(t.errorValues[M]||h(_))}e.isValidCode=c;function l(_,{fallbackError:M=s,shouldIncludeStack:O=!1}={}){var T,P;if(!M||!Number.isInteger(M.code)||typeof M.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(_ instanceof r.EthereumRpcError)return _.serialize();const b={};if(_&&typeof _=="object"&&!Array.isArray(_)&&p(_,"code")&&c(_.code)){const A=_;b.code=A.code,A.message&&typeof A.message=="string"?(b.message=A.message,p(A,"data")&&(b.data=A.data)):(b.message=o(b.code),b.data={originalError:d(_)})}else{b.code=M.code;const A=(T=_)===null||T===void 0?void 0:T.message;b.message=A&&typeof A=="string"?A:M.message,b.data={originalError:d(_)}}const k=(P=_)===null||P===void 0?void 0:P.stack;return O&&_&&k&&typeof k=="string"&&(b.stack=k),b}e.serializeError=l;function h(_){return _>=-32099&&_<=-32e3}function d(_){return _&&typeof _=="object"&&!Array.isArray(_)?Object.assign({},_):_}function p(_,M){return Object.prototype.hasOwnProperty.call(_,M)}})(Da);var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ethErrors=void 0;const ja=zt,Wf=Da,rt=Gt;Ts.ethErrors={rpc:{parse:e=>ft(rt.errorCodes.rpc.parse,e),invalidRequest:e=>ft(rt.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ft(rt.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ft(rt.errorCodes.rpc.methodNotFound,e),internal:e=>ft(rt.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ft(t,e)},invalidInput:e=>ft(rt.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ft(rt.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ft(rt.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ft(rt.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ft(rt.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ft(rt.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>wn(rt.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>wn(rt.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>wn(rt.errorCodes.provider.unsupportedMethod,e),disconnected:e=>wn(rt.errorCodes.provider.disconnected,e),chainDisconnected:e=>wn(rt.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ja.EthereumProviderError(t,r,n)}}};function ft(e,t){const[r,n]=qf(t);return new ja.EthereumRpcError(e,r||Wf.getMessageFromCode(e),n)}function wn(e,t){const[r,n]=qf(t);return new ja.EthereumProviderError(e,r||Wf.getMessageFromCode(e),n)}function qf(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=zt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Da;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ts;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Gt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})($f);var cb=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});li.JsonRpcEngine=void 0;const lb=cb(Fa),dt=$f;class Lt extends lb.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[s,o,c]=await Lt._runAllMiddleware(t,r,this._middleware);return o?(await Lt._runReturnHandlers(c),i(s)):n(async l=>{try{await Lt._runReturnHandlers(c)}catch(h){return l(h)}return l()})}catch(s){return i(s)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const o=new dt.EthereumRpcError(dt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new dt.EthereumRpcError(dt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},t),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=dt.serializeError(s))),r(s,i)}async _processRequest(t,r){const[n,i,s]=await Lt._runAllMiddleware(t,r,this._middleware);if(Lt._checkForCompletion(t,r,i),await Lt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(t,r,n){const i=[];let s=null,o=!1;for(const c of n)if([s,o]=await Lt._runMiddleware(t,r,c,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(s=>{const o=l=>{const h=l||r.error;h&&(r.error=dt.serializeError(h)),s([h,!0])},c=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Oo(t)}`,{request:t})),i.push(l)),s([null,!1]))};try{n(t,r,c,o)}catch(l){o(l)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Oo(t)}`,{request:t});if(!n)throw new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Oo(t)}`,{request:t})}}li.JsonRpcEngine=Lt;function Oo(e){return JSON.stringify(e,null,2)}var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.mergeMiddleware=void 0;const ub=li;function hb(e){const t=new ub.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}Ps.mergeMiddleware=hb;(function(e){var t=G&&G.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=G&&G.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(As,e),r(Is,e),r(xs,e),r(ci,e),r(li,e),r(Ps,e)})($a);var Vf={},Ua={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});var Pl=na,fb=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(i){return t._queue.push(i)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return Pl.__awaiter(this,void 0,void 0,function(){var r,n,i;return Pl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();Ns.default=fb;Object.defineProperty(Ua,"__esModule",{value:!0});var Nl=na,db=Ns,pb=function(){function e(){this._semaphore=new db.default(1)}return e.prototype.acquire=function(){return Nl.__awaiter(this,void 0,void 0,function(){var t,r;return Nl.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Ua.default=pb;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.withTimeout=void 0;var Si=na;function gb(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Si.__awaiter(n,void 0,void 0,function(){var o,c,l;return Si.__generator(this,function(h){switch(h.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},t),[4,e.acquire()];case 1:return c=h.sent(),o?(l=Array.isArray(c)?c[1]:c,l()):i(c),[2]}})})})},runExclusive:function(i){return Si.__awaiter(this,void 0,void 0,function(){var s,o;return Si.__generator(this,function(c){switch(c.label){case 0:s=function(){},c.label=1;case 1:return c.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=c.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,c.sent()];case 4:return s=o,[4,i()];case 5:return[2,c.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}Os.withTimeout=gb;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Ua;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Ns;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Os;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Vf);var _b=mb,yb=Object.prototype.hasOwnProperty;function mb(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)yb.call(r,n)&&(e[n]=r[n])}return e}const vb=_b,bb=Ma();var wb=Y;function Y(e){const t=this;t.currentProvider=e}Y.prototype.getBalance=ui(2,"eth_getBalance");Y.prototype.getCode=ui(2,"eth_getCode");Y.prototype.getTransactionCount=ui(2,"eth_getTransactionCount");Y.prototype.getStorageAt=ui(3,"eth_getStorageAt");Y.prototype.call=ui(2,"eth_call");Y.prototype.protocolVersion=ie("eth_protocolVersion");Y.prototype.syncing=ie("eth_syncing");Y.prototype.coinbase=ie("eth_coinbase");Y.prototype.mining=ie("eth_mining");Y.prototype.hashrate=ie("eth_hashrate");Y.prototype.gasPrice=ie("eth_gasPrice");Y.prototype.accounts=ie("eth_accounts");Y.prototype.blockNumber=ie("eth_blockNumber");Y.prototype.getBlockTransactionCountByHash=ie("eth_getBlockTransactionCountByHash");Y.prototype.getBlockTransactionCountByNumber=ie("eth_getBlockTransactionCountByNumber");Y.prototype.getUncleCountByBlockHash=ie("eth_getUncleCountByBlockHash");Y.prototype.getUncleCountByBlockNumber=ie("eth_getUncleCountByBlockNumber");Y.prototype.sign=ie("eth_sign");Y.prototype.sendTransaction=ie("eth_sendTransaction");Y.prototype.sendRawTransaction=ie("eth_sendRawTransaction");Y.prototype.estimateGas=ie("eth_estimateGas");Y.prototype.getBlockByHash=ie("eth_getBlockByHash");Y.prototype.getBlockByNumber=ie("eth_getBlockByNumber");Y.prototype.getTransactionByHash=ie("eth_getTransactionByHash");Y.prototype.getTransactionByBlockHashAndIndex=ie("eth_getTransactionByBlockHashAndIndex");Y.prototype.getTransactionByBlockNumberAndIndex=ie("eth_getTransactionByBlockNumberAndIndex");Y.prototype.getTransactionReceipt=ie("eth_getTransactionReceipt");Y.prototype.getUncleByBlockHashAndIndex=ie("eth_getUncleByBlockHashAndIndex");Y.prototype.getUncleByBlockNumberAndIndex=ie("eth_getUncleByBlockNumberAndIndex");Y.prototype.getCompilers=ie("eth_getCompilers");Y.prototype.compileLLL=ie("eth_compileLLL");Y.prototype.compileSolidity=ie("eth_compileSolidity");Y.prototype.compileSerpent=ie("eth_compileSerpent");Y.prototype.newFilter=ie("eth_newFilter");Y.prototype.newBlockFilter=ie("eth_newBlockFilter");Y.prototype.newPendingTransactionFilter=ie("eth_newPendingTransactionFilter");Y.prototype.uninstallFilter=ie("eth_uninstallFilter");Y.prototype.getFilterChanges=ie("eth_getFilterChanges");Y.prototype.getFilterLogs=ie("eth_getFilterLogs");Y.prototype.getLogs=ie("eth_getLogs");Y.prototype.getWork=ie("eth_getWork");Y.prototype.submitWork=ie("eth_submitWork");Y.prototype.submitHashrate=ie("eth_submitHashrate");Y.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(Eb(e),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return t(n);t(null,i.result)})};function ie(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function ui(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function Eb(e){return vb({id:bb(),jsonrpc:"2.0",params:[]},e)}const Ol=(e,t,r,n)=>function(...i){const s=t.promiseModule;return new s((o,c)=>{t.multiArgs?i.push((...h)=>{t.errorFirst?h[0]?c(h):(h.shift(),o(h)):o(h)}):t.errorFirst?i.push((h,d)=>{h?c(h):o(d)}):i.push(o),Reflect.apply(e,this===r?n:this,i)})},Ll=new WeakMap;var Sb=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(o,c)=>{let l=Ll.get(o);if(l||(l={},Ll.set(o,l)),c in l)return l[c];const h=O=>typeof O=="string"||typeof c=="symbol"?c===O:O.test(c),d=Reflect.getOwnPropertyDescriptor(o,c),p=d===void 0||d.writable||d.configurable,M=(t.include?t.include.some(h):!t.exclude.some(h))&&p;return l[c]=M,M},i=new WeakMap,s=new Proxy(e,{apply(o,c,l){const h=i.get(o);if(h)return Reflect.apply(h,c,l);const d=t.excludeMain?o:Ol(o,t,s,o);return i.set(o,d),Reflect.apply(d,c,l)},get(o,c){const l=o[c];if(!n(o,c)||l===Function.prototype[c])return l;const h=i.get(l);if(h)return h;if(typeof l=="function"){const d=Ol(l,t,s,o);return i.set(l,d),d}return l}});return s};const Rb=ti.default;let Mb=class extends Rb{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var Ha=Mb;const Cb=Ha;let kb=class extends Cb{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var Ab=kb,hi={minBlockRef:Ib,bnToHex:Tb,blockRefIsNumber:Pb,hexToInt:Fi,incrementHexInt:Nb,intToHex:zf,unsafeRandomBytes:Ob};function Ib(...e){return xb(e)[0]}function xb(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Fi(t)-Fi(r))}function Tb(e){return"0x"+e.toString(16)}function Pb(e){return e&&!["earliest","latest","pending"].includes(e)}function Fi(e){return e==null?e:Number.parseInt(e,16)}function Nb(e){if(e==null)return e;const t=Fi(e);return zf(t+1)}function zf(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function Ob(e){let t="0x";for(let r=0;r<e;r++)t+=Bl(),t+=Bl();return t}function Bl(){return Math.floor(Math.random()*16).toString(16)}const Lb=wb,Bb=Sb,$b=Ab,{bnToHex:Yw,hexToInt:Ri,incrementHexInt:Fb,minBlockRef:Db,blockRefIsNumber:jb}=hi;let Ub=class extends $b{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new Lb(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Db(this.params.toBlock,t),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:t,newBlock:r}){const n=r;let i;t?i=Fb(t):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),c=(await this._fetchLogs(s)).filter(l=>this.matchLog(l));this.addResults(c)}async _fetchLogs(t){return await Bb(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(Ri(this.params.fromBlock)>=Ri(t.blockNumber)||jb(this.params.toBlock)&&Ri(this.params.toBlock)<=Ri(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=t.topics[s];if(!o)return!1;o=o.toLowerCase();let c=Array.isArray(i)?i:[i];return c.includes(null)?!0:(c=c.map(d=>d.toLowerCase()),c.includes(o))})}};var Hb=Ub,Wa=Wb;async function Wb({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=$l(t),s=$l(r)-n+1,o=Array(s).fill().map((l,h)=>n+h).map(qb);let c=await Promise.all(o.map(l=>zb(e,"eth_getBlockByNumber",[l,!1])));return c=c.filter(l=>l!==null),c}function $l(e){return e==null?e:Number.parseInt(e,16)}function qb(e){return e==null?e:"0x"+e.toString(16)}function Vb(e,t){return new Promise((r,n)=>{e.sendAsync(t,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function zb(e,t,r){for(let n=0;n<3;n++)try{return await Vb(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch{}return null}const Gb=Ha,Jb=Wa,{incrementHexInt:Zb}=hi;let Kb=class extends Gb{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,i=Zb(t),o=(await Jb({provider:this.provider,fromBlock:i,toBlock:n})).map(c=>c.hash);this.addResults(o)}};var Qb=Kb;const Yb=Ha,Xb=Wa,{incrementHexInt:ew}=hi;let tw=class extends Yb{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=ew(t),i=await Xb({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var rw=tw;const nw=Vf.Mutex,{createAsyncMiddleware:iw,createScaffoldMiddleware:sw}=$a,ow=Hb,aw=Qb,cw=rw,{intToHex:Gf,hexToInt:Lo}=hi;var lw=uw;function uw({blockTracker:e,provider:t}){let r=0,n={};const i=new nw,s=hw({mutex:i}),o=sw({eth_newFilter:s(Bo(l)),eth_newBlockFilter:s(Bo(h)),eth_newPendingTransactionFilter:s(Bo(d)),eth_uninstallFilter:s(xi(M)),eth_getFilterChanges:s(xi(p)),eth_getFilterLogs:s(xi(_))}),c=async({oldBlock:k,newBlock:A})=>{if(n.length===0)return;const L=await i.acquire();try{await Promise.all(Wr(n).map(async B=>{try{await B.update({oldBlock:k,newBlock:A})}catch{}}))}catch{}L()};return o.newLogFilter=l,o.newBlockFilter=h,o.newPendingTransactionFilter=d,o.uninstallFilter=M,o.getFilterChanges=p,o.getFilterLogs=_,o.destroy=()=>{P()},o;async function l(k){const A=new ow({provider:t,params:k});return await O(A),A}async function h(){const k=new aw({provider:t});return await O(k),k}async function d(){const k=new cw({provider:t});return await O(k),k}async function p(k){const A=Lo(k),L=n[A];if(!L)throw new Error(`No filter for index "${A}"`);return L.getChangesAndClear()}async function _(k){const A=Lo(k),L=n[A];if(!L)throw new Error(`No filter for index "${A}"`);let B=[];return L.type==="log"&&(B=L.getAllResults()),B}async function M(k){const A=Lo(k),B=!!n[A];return B&&await T(A),B}async function O(k){const A=Wr(n).length,L=await e.getLatestBlock();await k.initialize({currentBlock:L}),r++,n[r]=k,k.id=r,k.idHex=Gf(r);const B=Wr(n).length;return b({prevFilterCount:A,newFilterCount:B}),r}async function T(k){const A=Wr(n).length;delete n[k];const L=Wr(n).length;b({prevFilterCount:A,newFilterCount:L})}async function P(){const k=Wr(n).length;n={},b({prevFilterCount:k,newFilterCount:0})}function b({prevFilterCount:k,newFilterCount:A}){if(k===0&&A>0){e.on("sync",c);return}if(k>0&&A===0){e.removeListener("sync",c);return}}}function Bo(e){return xi(async(...t)=>{const r=await e(...t);return Gf(r.id)})}function xi(e){return iw(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function hw({mutex:e}){return t=>async(r,n,i,s)=>{(await e.acquire())(),t(r,n,i,s)}}function Wr(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const fw=ti.default,{createAsyncMiddleware:Fl,createScaffoldMiddleware:dw}=$a,pw=lw,{unsafeRandomBytes:gw,incrementHexInt:_w}=hi,yw=Wa;var mw=vw;function vw({blockTracker:e,provider:t}){const r={},n=pw({blockTracker:e,provider:t});let i=!1;const s=new fw,o=dw({eth_subscribe:Fl(c),eth_unsubscribe:Fl(l)});return o.destroy=d,{events:s,middleware:o};async function c(p,_){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const M=p.params[0],O=gw(16);let T;switch(M){case"newHeads":T=P({subId:O});break;case"logs":const k=p.params[1],A=await n.newLogFilter(k);T=b({subId:O,filter:A});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${M}"`)}r[O]=T,_.result=O;return;function P({subId:k}){const A={type:M,destroy:async()=>{e.removeListener("sync",A.update)},update:async({oldBlock:L,newBlock:B})=>{const F=B,J=_w(L);(await yw({provider:t,fromBlock:J,toBlock:F})).map(bw).filter(te=>te!==null).forEach(te=>{h(k,te)})}};return e.on("sync",A.update),A}function b({subId:k,filter:A}){return A.on("update",B=>h(k,B)),{type:M,destroy:async()=>await n.uninstallFilter(A.idHex)}}}async function l(p,_){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const M=p.params[0],O=r[M];if(!O){_.result=!1;return}delete r[M],await O.destroy(),_.result=!0}function h(p,_){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:_}})}function d(){s.removeAllListeners();for(const p in r)r[p].destroy(),delete r[p];i=!0}}function bw(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(vs,"__esModule",{value:!0});vs.SubscriptionManager=void 0;const ww=Qh,Ew=mw,Dl=()=>{};class Sw{constructor(t){const r=new ww.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=Ew({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=i}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,Dl,Dl),r}destroy(){this.subscriptionMiddleware.destroy()}}vs.SubscriptionManager=Sw;var Jf=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CoinbaseWalletProvider=void 0;const Rw=Jf(qi),Mw=Pd,oe=Pn,ne=z,Cw=Bn,jl=pt,Mi=pn,ct=hn,$o=Jf(j_),En=dn,kw=an,Aw=vs,Ul="DefaultChainId",Hl="DefaultJsonRpcUrl";class Iw extends Mw.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new kw.FilterPolyfill(this),this._subscriptionManager=new Aw.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const i=this.getChainId(),s=(0,ne.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(jl.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const c=o.split(" ");c[0]!==""&&(this._addresses=c.map(l=>(0,ne.ensureAddressString)(l)),this.emit("accountsChanged",c))}this._subscriptionManager.events.on("notification",c=>{this.emit("message",{type:c.method,data:c.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",c=>{var l;if(!(c.origin!==location.origin||c.source!==window)&&c.data.type==="walletLinkMessage"&&c.data.data.action==="dappChainSwitched"){const h=c.data.data.chainId,d=(l=c.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(d,Number(h))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ne.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(Hl))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(Hl,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(Ul,r.toString(10)),((0,ne.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,i,s,o){const l=await(await this.initializeRelay()).watchAsset(t,r,n,i,s,o?.toString()).promise;return(0,ct.isErrorResponse)(l)?!1:!!l.result}async addEthereumChain(t,r,n,i,s,o){var c,l;if((0,ne.ensureIntNumber)(t)===this.getChainId())return!1;const h=await this.initializeRelay(),d=h.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!d&&await h.requestEthereumAccounts().promise;const p=await h.addEthereumChain(t.toString(),r,s,n,i,o).promise;return(0,ct.isErrorResponse)(p)?!1:(((c=p.result)===null||c===void 0?void 0:c.isApproved)===!0&&this.updateProviderInfo(r[0],t),((l=p.result)===null||l===void 0?void 0:l.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,ct.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===oe.standardErrorCodes.provider.unsupportedChain?oe.standardErrors.provider.unsupportedChain():oe.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(En.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Mi.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(i=>{throw(0,oe.serializeError)(i,t)})}catch(n){throw(0,oe.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const i=t,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(c=>c.result)}if(typeof r=="function"){const i=t,s=r;return this._sendAsync(i,s)}if(Array.isArray(t))return t.map(s=>this._sendRequest(s));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,oe.serializeError)(n,t)})}catch(n){return Promise.reject((0,oe.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const i=r;this._sendMultipleRequestsAsync(t).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(t).then(i=>n(null,i)).catch(i=>n(i,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,oe.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,oe.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw oe.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw oe.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw oe.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,ne.ensureRegExpString)(t)).promise;if((0,ct.isErrorResponse)(n))throw(0,oe.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,oe.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const i=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,ct.isErrorResponse)(i))throw(0,oe.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,oe.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(En.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?Mi.Session.hash(this._relay.session.id):void 0});let n;try{const s=await this.initializeRelay();if(!(s instanceof Cw.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await s.connectAndSignIn(t).promise,(0,ct.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?oe.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!n.result)throw new Error("accounts received is empty");const{accounts:i}=n.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,ct.isErrorResponse)(n))throw(0,oe.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,oe.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(i=>(0,ne.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(jl.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return r({jsonrpc:"2.0",id:t.id,result:i});const s=this._handleAsynchronousFilterMethods(t);if(s!==void 0){s.then(c=>r(Object.assign(Object.assign({},c),{id:t.id}))).catch(c=>n(c));return}const o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(c=>r({jsonrpc:"2.0",id:t.id,result:c.result})).catch(c=>n(c));return}}catch(i){return n(i)}this._handleAsynchronousMethods(t).then(i=>i&&r(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(s=>{var o;throw(s.code===oe.standardErrorCodes.rpc.methodNotFound||s.code===oe.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(En.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?Mi.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,ne.ensureAddressString)(t);return this._addresses.map(i=>(0,ne.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(En.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,ne.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,ne.ensureAddressString)(t.to):null,i=t.value!=null?(0,ne.ensureBN)(t.value):new Rw.default(0),s=t.data?(0,ne.ensureBuffer)(t.data):Buffer.alloc(0),o=t.nonce!=null?(0,ne.ensureIntNumber)(t.nonce):null,c=t.gasPrice!=null?(0,ne.ensureBN)(t.gasPrice):null,l=t.maxFeePerGas!=null?(0,ne.ensureBN)(t.maxFeePerGas):null,h=t.maxPriorityFeePerGas!=null?(0,ne.ensureBN)(t.maxPriorityFeePerGas):null,d=t.gas!=null?(0,ne.ensureBN)(t.gas):null,p=t.chainId?(0,ne.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:c,maxFeePerGas:l,maxPriorityFeePerGas:h,gasLimit:d,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw oe.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw oe.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,i){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(t,r,n,i).promise;if((0,ct.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?oe.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(t,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,ct.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ne.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Ul);if(!t)return(0,ne.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,ne.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(En.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Mi.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,ct.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?oe.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,ne.ensureAddressString)(t[0]),n=(0,ne.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,ne.ensureBuffer)(t[0]),n=(0,ne.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,ne.ensureBuffer)(t[0]),n=(0,ne.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,ne.ensureBuffer)(t[0]),n=(0,ne.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,ct.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?oe.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,ne.ensureBuffer)(t[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,ct.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,ct.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?oe.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,ne.ensureParsedJSONObject)(t[0]),n=(0,ne.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const i=$o.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,ne.ensureAddressString)(t[0]),n=(0,ne.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=$o.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,ne.ensureAddressString)(t[0]),n=(0,ne.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=$o.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,i,s;const o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw oe.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw oe.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const c=parseInt(o.chainId,16);return await this.addEthereumChain(c,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw oe.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw oe.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw oe.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw oe.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:c}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,c,o,n)}}_eth_uninstallFilter(t){const r=(0,ne.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,ne.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,ne.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Xr.CoinbaseWalletProvider=Iw;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.RelayEventManager=void 0;const xw=z;class Tw{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,xw.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}Ls.RelayEventManager=Tw;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.CoinbaseWalletSDK=void 0;const Pw=Hi,Nw=Wi,Wl=z,Ow=Zi,Lw=Xr,Bw=Bn,$w=Xn,Fw=Ls,Dw=Gn,jw=$n,Zf=fn;class Bs{constructor(t){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=t.linkAPIUrl||Nw.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(i=t.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(s),c=`${o.protocol}//${o.host}`;if(this._storage=new Ow.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Bs.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new Fw.RelayEventManager;const l=(0,Wl.isMobileWeb)(),h=t.uiConstructor||(p=>l?new $w.MobileRelayUI(p):new Dw.WalletLinkRelayUI(p)),d={linkAPIUrl:s,version:Zf.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:h,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=l?new Bw.MobileRelay(d):new jw.WalletLinkRelay(d),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||s.setConnectDisabled(!0),new Lw.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,Wl.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,Pw.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}Cn.CoinbaseWalletSDK=Bs;Bs.VERSION=Zf.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=Cn,r=Xr;var n=Cn;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Xr;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(yu);const Uw=Qf(yu),r2=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"}));export{r2 as i};
